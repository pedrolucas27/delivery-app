{"ast":null,"code":"import API from \"./api.js\";\nimport { getIdCompany } from \"../helpers.js\";\nexport const isLoggedIn = async () => {\n  try {\n    const TOKEN = localStorage.getItem('@masterpizza-delivery-app/token');\n    const response = await API.post(\"clientLogged\", {\n      id: localStorage.getItem('@masterpizza-delivery-app/id_client'),\n      idCompany: getIdCompany()\n    }, {\n      headers: {\n        Authorization: 'Bearer '.concat(TOKEN)\n      }\n    });\n\n    if (response.status === 200) {\n      localStorage.setItem('@masterpizza-delivery-app/name-phone-user', `${response.data[0].name_client};${response.data[0].phone_client}`);\n      return true;\n    } else {\n      return false;\n    }\n  } catch (error) {\n    return false;\n  }\n};","map":{"version":3,"sources":["/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/server/auth.js"],"names":["API","getIdCompany","isLoggedIn","TOKEN","localStorage","getItem","response","post","id","idCompany","headers","Authorization","concat","status","setItem","data","name_client","phone_client","error"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,UAAhB;AACA,SAASC,YAAT,QAA6B,eAA7B;AAEA,OAAO,MAAMC,UAAU,GAAG,YAAY;AACrC,MAAG;AACF,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,iCAArB,CAAd;AACA,UAAMC,QAAQ,GAAG,MAAMN,GAAG,CAACO,IAAJ,CAAS,cAAT,EAAyB;AAC/CC,MAAAA,EAAE,EAAEJ,YAAY,CAACC,OAAb,CAAqB,qCAArB,CAD2C;AAE/CI,MAAAA,SAAS,EAAER,YAAY;AAFwB,KAAzB,EAGrB;AACDS,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAE,UAAUC,MAAV,CAAiBT,KAAjB;AAAjB;AADR,KAHqB,CAAvB;;AAMA,QAAGG,QAAQ,CAACO,MAAT,KAAoB,GAAvB,EAA2B;AAC1BT,MAAAA,YAAY,CAACU,OAAb,CAAqB,2CAArB,EAAmE,GAAER,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBC,WAAY,IAAGV,QAAQ,CAACS,IAAT,CAAc,CAAd,EAAiBE,YAAa,EAAnI;AACA,aAAO,IAAP;AACA,KAHD,MAGK;AACJ,aAAO,KAAP;AACA;AACD,GAdD,CAcE,OAAMC,KAAN,EAAY;AACb,WAAO,KAAP;AACA;AACD,CAlBM","sourcesContent":["import API from \"./api.js\";\nimport { getIdCompany } from \"../helpers.js\";\n\nexport const isLoggedIn = async () => {\n\ttry{\n\t\tconst TOKEN = localStorage.getItem('@masterpizza-delivery-app/token');\n\t\tconst response = await API.post(\"clientLogged\", {  \n\t\t\tid: localStorage.getItem('@masterpizza-delivery-app/id_client'),\n\t\t\tidCompany: getIdCompany()\n\t\t},{\n\t\t\theaders: { Authorization: 'Bearer '.concat(TOKEN) }\n\t\t});\n\t\tif(response.status === 200){\n\t\t\tlocalStorage.setItem('@masterpizza-delivery-app/name-phone-user', `${response.data[0].name_client};${response.data[0].phone_client}`);\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t} catch(error){\n\t\treturn false;\n\t}\t\n}\n"]},"metadata":{},"sourceType":"module"}
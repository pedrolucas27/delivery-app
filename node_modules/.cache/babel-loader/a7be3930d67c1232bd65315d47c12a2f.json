{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/components/ShoppingCart/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport API from \"../../server/api.js\";\nimport { Fragment } from 'react';\nimport { Dialog, Transition } from '@headlessui/react';\nimport { XIcon } from '@heroicons/react/outline';\nimport pie_default from \"../../images/pie.png\";\nimport empty_default from \"../../images/empty_product.jpeg\";\nimport empty_cart from \"../../images/empty-cart.png\";\nimport { changeCommaForPoint, getIdCompany } from \"../../helpers.js\";\nimport ModalAddressClient from \"../ModalAddressClient\";\nimport Loading from \"../Loading\";\nimport \"../../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShoppingCart = props => {\n  _s();\n\n  const ID_COMPANY = getIdCompany();\n  const idClient = localStorage.getItem('@masterpizza-delivery-app/id_client');\n  const [dataProducts, setDataProducts] = useState([]);\n  const [priceTotal, setPriceTotal] = useState(0);\n  const [showModalAddress, setShowModalAddress] = useState(false);\n  const [loadingFlag, setLoadingFlag] = useState(false);\n  const [valueDiscount, setValueDiscount] = useState(0);\n  const alert = useAlert();\n  useEffect(() => {\n    getCartProduct();\n  }, []);\n\n  const getCartProduct = async () => {\n    try {\n      const response = await API.get(\"cart_product/\" + idClient + \"/\" + ID_COMPANY);\n      let array = [];\n      let price = 0;\n      response.data.forEach(product => {\n        if (product.id_product_fk && product.id_product_fk2) {\n          array.push({\n            id: product.id,\n            name: product.observation,\n            size: product.size,\n            price: product.price_item_order,\n            quantity: product.quantity_item,\n            image: pie_default,\n            is_product_mister: true\n          });\n        } else {\n          array.push({\n            id: product.id,\n            name: product.name_product || product.name,\n            size: product.size,\n            price: product.price_item_order,\n            quantity: product.quantity_item,\n            image: product.image ? `http://192.168.0.107:8080/${product.image}` : empty_default,\n            is_product_mister: false\n          });\n        }\n\n        price += product.price_item_order;\n      });\n      setPriceTotal(price);\n      setDataProducts(array);\n    } catch (error) {\n      console.log('Erro ao tentar acessar carrinho. Tente novamente!');\n    }\n  };\n\n  const deleteItemCart = async id => {\n    props.onLoading(true);\n\n    try {\n      const response = await API.delete(\"cart_product/\" + id);\n\n      if (response.status === 200) {\n        getCartProduct();\n        props.onLoading(false);\n        alert.success(response.data.message);\n      } else {\n        props.onLoading(false);\n        alert.error(response.data.message);\n      }\n    } catch (error) {\n      props.onLoading(false);\n      alert.error(\"Error ao tentar deletar item. Tente novamente!\");\n    }\n  };\n\n  const finishCart = async () => {\n    //ATUALIZAR COLUNA -> completed_purchase\n    try {\n      const response = await API.put(\"cart_status\", {\n        idClient: idClient,\n        idCompany: ID_COMPANY\n      });\n      return response.status === 200 ? true : false;\n    } catch (error) {\n      alert.error('Erro ao tentar finalizar pedido. Tente novamente!');\n    }\n  };\n\n  const finishOrder = async formAddress => {\n    setLoadingFlag(true);\n\n    try {\n      setShowModalAddress(!showModalAddress);\n      let price_order = 0;\n      let arrayIdsProducts = [];\n      dataProducts.forEach(item => {\n        price_order += item.price;\n        arrayIdsProducts.push(item.id);\n      });\n      let address = `Rua: ${formAddress.street};N°: ${formAddress.number_address};Bairro: ${formAddress.district}`;\n      const responseFinishOrder = await API.post(\"createOrder\", {\n        price: price_order - formAddress.valueDiscount,\n        price_final: price_order - formAddress.valueDiscount,\n        status_order: 0,\n        is_pdv: false,\n        observation: formAddress.observation || null,\n        address_client: String(address),\n        id_coupom_fk: formAddress.coupom ? formAddress.coupom.id_coupom : null,\n        id_client_fk: idClient,\n        id_company: ID_COMPANY,\n        idsFormPayment: [formAddress.form_payment]\n      });\n\n      if (responseFinishOrder.status === 200) {\n        const idOrder = responseFinishOrder.data.id_order;\n        const responseProductOrder = await API.post(\"createProductsOrder\", {\n          id_order: idOrder,\n          id_company: ID_COMPANY,\n          ids_products: arrayIdsProducts\n        });\n\n        if (responseProductOrder.status === 200) {\n          const res = await finishCart();\n          setLoadingFlag(false);\n\n          if (res) {\n            alert.success('Pedido enviado com sucesso! Acompanhe o andamento no seu perfil.');\n            setTimeout(() => {\n              window.location.href = \"/profile\";\n            }, 1000);\n          } else {\n            alert.error('Erro no envio do pedido. Tente novamente!');\n          }\n        } else {\n          setLoadingFlag(false);\n          alert.error('Erro no envio do pedido. Tente novamente!');\n        }\n      } else {\n        setLoadingFlag(false);\n        alert.error('Erro no envio do pedido. Tente novamente!');\n      }\n    } catch (error) {\n      setLoadingFlag(false);\n      alert.error('Erro no envio do pedido. Tente novamente!');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Transition.Root, {\n    show: props.open,\n    as: Fragment,\n    children: !loadingFlag ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Dialog, {\n        as: \"div\",\n        className: \"fixed inset-0 overflow-hidden w-full z-20\",\n        onClose: props.close,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 overflow-hidden z-20\",\n          children: [/*#__PURE__*/_jsxDEV(Transition.Child, {\n            as: Fragment,\n            enter: \"ease-in-out duration-500\",\n            enterFrom: \"opacity-0\",\n            enterTo: \"opacity-100\",\n            leave: \"ease-in-out duration-500\",\n            leaveFrom: \"opacity-100\",\n            leaveTo: \"opacity-0\",\n            children: /*#__PURE__*/_jsxDEV(Dialog.Overlay, {\n              className: \"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fixed inset-y-0 right-0 pl-10 w-full flex z-20\",\n            children: /*#__PURE__*/_jsxDEV(Transition.Child, {\n              as: Fragment,\n              enter: \"transform transition ease-in-out duration-500 sm:duration-700\",\n              enterFrom: \"translate-x-full\",\n              enterTo: \"translate-x-0\",\n              leave: \"transform transition ease-in-out duration-500 sm:duration-700\",\n              leaveFrom: \"translate-x-0\",\n              leaveTo: \"translate-x-full\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-screen max-w-md\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full h-full flex flex-col bg-white shadow-xl overflow-y-scroll\",\n                  children: !showModalAddress ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 py-6 overflow-y-auto px-4 sm:px-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(Dialog.Title, {\n                        className: \"text-lg font-medium text-gray-900\",\n                        children: \"Meu carrinho\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 188,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ml-3 h-7 flex items-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"-m-2 p-2 text-gray-400 hover:text-gray-500\",\n                          onClick: props.close,\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"sr-only\",\n                            children: \"Fechar\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 195,\n                            columnNumber: 38\n                          }, this), /*#__PURE__*/_jsxDEV(XIcon, {\n                            className: \"h-6 w-6\",\n                            \"aria-hidden\": \"true\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 196,\n                            columnNumber: 38\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 190,\n                          columnNumber: 34\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 30\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-8\",\n                      children: dataProducts.length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flow-root\",\n                        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"-my-6 divide-y divide-gray-200\",\n                          children: dataProducts.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n                            className: \"py-6 flex\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex-shrink-0 w-14 h-14 border border-gray-200 rounded-md overflow-hidden\",\n                              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                src: product.image,\n                                alt: \"image-product\",\n                                className: \"w-full h-full object-center object-cover\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 209,\n                                columnNumber: 47\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 208,\n                              columnNumber: 45\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ml-4 flex-1 flex flex-col\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"flex justify-between text-base font-medium text-gray-900\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                                    children: product.name\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 218,\n                                    columnNumber: 52\n                                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                    className: \"ml-4\",\n                                    children: [\"R$ \", changeCommaForPoint(product.price)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 221,\n                                    columnNumber: 52\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 217,\n                                  columnNumber: 50\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 216,\n                                columnNumber: 47\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex-1 flex items-end justify-between text-sm\",\n                                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"text-gray-500\",\n                                  children: [\"Qtd.: \", product.quantity]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 225,\n                                  columnNumber: 50\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"flex\",\n                                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                                    type: \"button\",\n                                    className: \"font-medium text-indigo-600 hover:text-indigo-500\",\n                                    onClick: () => deleteItemCart(product.id),\n                                    children: \"Remover\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 227,\n                                    columnNumber: 52\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 226,\n                                  columnNumber: 50\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 224,\n                                columnNumber: 47\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 215,\n                              columnNumber: 45\n                            }, this)]\n                          }, product.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 207,\n                            columnNumber: 42\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 205,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"border-t border-gray-200 py-4 px-4 sm:px-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between text-base font-medium text-gray-900\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              children: \"Subtotal\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 242,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              children: [\"R$ \", changeCommaForPoint(priceTotal)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 243,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 241,\n                            columnNumber: 36\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-4\",\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              className: \"flex justify-center w-full items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green\",\n                              onClick: () => setShowModalAddress(true),\n                              children: \"Finanlizar pedido\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 246,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 245,\n                            columnNumber: 36\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 240,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 204,\n                        columnNumber: 35\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full m-auto\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"w-full text-center text-black font-bold text-xl\",\n                          children: \"Seu carrinho est\\xE1 v\\xE1zio!\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 257,\n                          columnNumber: 36\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-center mt-10\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: empty_cart,\n                              className: \"rounded-full h-24 w-24\",\n                              alt: \"cart-empty\",\n                              className: \"h-16 w-16 mt-12\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 262,\n                              columnNumber: 38\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 261,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 260,\n                          columnNumber: 36\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(ModalAddressClient, {\n                    show: showModalAddress,\n                    close: () => setShowModalAddress(false),\n                    onFinishOrder: data => finishOrder(data)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 24\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 8\n    }, this) : /*#__PURE__*/_jsxDEV(Loading, {\n      time: 5000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 8\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShoppingCart, \"B0whtOJp3JdbsWPP0g7+ncpaN1Q=\", false, function () {\n  return [useAlert];\n});\n\n_c = ShoppingCart;\nexport default ShoppingCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCart\");","map":{"version":3,"sources":["/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/components/ShoppingCart/index.js"],"names":["React","useState","useEffect","useAlert","API","Fragment","Dialog","Transition","XIcon","pie_default","empty_default","empty_cart","changeCommaForPoint","getIdCompany","ModalAddressClient","Loading","ShoppingCart","props","ID_COMPANY","idClient","localStorage","getItem","dataProducts","setDataProducts","priceTotal","setPriceTotal","showModalAddress","setShowModalAddress","loadingFlag","setLoadingFlag","valueDiscount","setValueDiscount","alert","getCartProduct","response","get","array","price","data","forEach","product","id_product_fk","id_product_fk2","push","id","name","observation","size","price_item_order","quantity","quantity_item","image","is_product_mister","name_product","error","console","log","deleteItemCart","onLoading","delete","status","success","message","finishCart","put","idCompany","finishOrder","formAddress","price_order","arrayIdsProducts","item","address","street","number_address","district","responseFinishOrder","post","price_final","status_order","is_pdv","address_client","String","id_coupom_fk","coupom","id_coupom","id_client_fk","id_company","idsFormPayment","form_payment","idOrder","id_order","responseProductOrder","ids_products","res","setTimeout","window","location","href","open","close","length","map"],"mappings":"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","sourcesContent":["import React, { useState,  useEffect } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport API from \"../../server/api.js\";\nimport { Fragment } from 'react'\nimport { Dialog, Transition } from '@headlessui/react'\nimport { XIcon } from '@heroicons/react/outline'\nimport pie_default from \"../../images/pie.png\";\nimport empty_default from \"../../images/empty_product.jpeg\";\nimport empty_cart from \"../../images/empty-cart.png\";\nimport { changeCommaForPoint, getIdCompany } from \"../../helpers.js\";\nimport ModalAddressClient from \"../ModalAddressClient\";\nimport Loading from \"../Loading\";\nimport \"../../index.css\";\n\nconst ShoppingCart = (props) => {\n\tconst ID_COMPANY = getIdCompany();\n\tconst idClient =  localStorage.getItem('@masterpizza-delivery-app/id_client')\n\n\tconst [dataProducts, setDataProducts] = useState([]);\n\tconst [priceTotal, setPriceTotal] = useState(0);\n\tconst [showModalAddress, setShowModalAddress] = useState(false);\n\tconst [loadingFlag, setLoadingFlag] = useState(false);\n\tconst [valueDiscount, setValueDiscount] = useState(0);\n\tconst alert = useAlert();\n\n\tuseEffect(() => {\n\t\tgetCartProduct();\n\t}, [])\n\n\tconst getCartProduct = async () => {\n\t\t\ttry{\n\t\t\t\tconst response = await API.get(\"cart_product/\"+idClient+\"/\"+ID_COMPANY);\n\t\t\t\tlet array = [];\n\t\t\t\tlet price = 0;\n\t\t\t\tresponse.data.forEach((product) => {\n\t\t\t\t\tif(product.id_product_fk && product.id_product_fk2){\n\t\t\t\t\t\tarray.push({\n\t\t\t\t\t\t\tid: product.id,\n\t\t\t\t\t\t\tname: product.observation,\n\t\t\t\t\t\t\tsize: product.size,\n\t\t\t\t\t\t\tprice: product.price_item_order,\n\t\t\t\t\t\t\tquantity: product.quantity_item,\n\t\t\t\t\t\t\timage: pie_default,\n\t\t\t\t\t\t\tis_product_mister: true\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tarray.push({\n\t\t\t\t\t\t\tid: product.id,\n\t\t\t\t\t\t\tname: product.name_product || product.name,\n\t\t\t\t\t\t\tsize: product.size,\n\t\t\t\t\t\t\tprice: product.price_item_order,\n\t\t\t\t\t\t\tquantity: product.quantity_item,\n\t\t\t\t\t\t\timage: product.image ? `http://192.168.0.107:8080/${product.image}`:empty_default,\n\t\t\t\t\t\t\tis_product_mister: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tprice += product.price_item_order;\n\t\t\t\t})\n\t\t\t\tsetPriceTotal(price);\n\t\t\t\tsetDataProducts(array);\n\t\t\t} catch(error){\n\t\t\t\t\tconsole.log('Erro ao tentar acessar carrinho. Tente novamente!');\n\t\t\t}\n\t}\n\n\n\tconst deleteItemCart = async (id) => {\n    props.onLoading(true);\n    try{\n      const response = await API.delete(\"cart_product/\"+id);\n      if(response.status === 200){\n        getCartProduct();\n        props.onLoading(false);\n        alert.success(response.data.message);\n      }else{\n      \tprops.onLoading(false);\n        alert.error(response.data.message);\n      }\n    }catch(error){\n      props.onLoading(false);\n      alert.error(\"Error ao tentar deletar item. Tente novamente!\");\n    }\n  }\n\n  const finishCart = async () => {\n\t\t//ATUALIZAR COLUNA -> completed_purchase\n\t\ttry{\n\t\t\tconst response = await API.put(\"cart_status\", { idClient: idClient, idCompany: ID_COMPANY });\n\t\t\treturn response.status === 200 ? true:false;\n\t\t}catch(error){\n\t\t\talert.error('Erro ao tentar finalizar pedido. Tente novamente!');\n\t\t}\n\t}\n\n  const finishOrder = async (formAddress) => {\n\t\t\tsetLoadingFlag(true);\n\t\t\ttry{\n\t\t\t\t\tsetShowModalAddress(!showModalAddress);\n\t\t\t\t\tlet price_order = 0;\n\t\t\t\t\tlet arrayIdsProducts = [];\n\t\t\t\t\tdataProducts.forEach((item) => { \n\t\t\t\t\t\tprice_order += item.price;\n\t\t\t\t\t\tarrayIdsProducts.push(item.id);\n\t\t\t\t\t});\n\t\t\t\t\tlet address = `Rua: ${formAddress.street};N°: ${formAddress.number_address};Bairro: ${formAddress.district}`\n\t\t\t\t    const responseFinishOrder = await API.post(\"createOrder\", {\n\t\t\t\t\t    price: price_order - formAddress.valueDiscount, \n\t\t\t\t\t    price_final: price_order - formAddress.valueDiscount,\n\t\t\t\t\t    status_order: 0, \n\t\t\t\t\t    is_pdv: false, \n\t\t\t\t\t    observation: formAddress.observation || null, \n\t\t\t\t\t    address_client: String(address),\n\t\t\t\t\t    id_coupom_fk: formAddress.coupom ? formAddress.coupom.id_coupom:null, \n\t\t\t\t\t    id_client_fk: idClient,\n\t\t\t\t\t    id_company: ID_COMPANY,\n\t\t\t\t\t    idsFormPayment: [formAddress.form_payment]\n\t\t\t\t    });\n\t\t\t\t    if(responseFinishOrder.status === 200){\n\t\t\t\t    \tconst idOrder = responseFinishOrder.data.id_order;\n\t\t\t\t    \tconst responseProductOrder = await API.post(\"createProductsOrder\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid_order: idOrder,\n\t\t\t\t\t\t\t\tid_company: ID_COMPANY,\n\t\t\t\t\t\t\t\tids_products: arrayIdsProducts\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif(responseProductOrder.status === 200){\n\t\t\t\t\t\t\tconst res = await finishCart();\n\t\t\t\t\t\t\tsetLoadingFlag(false);\n\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\talert.success('Pedido enviado com sucesso! Acompanhe o andamento no seu perfil.');\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t            window.location.href = \"/profile\";\n\t\t\t\t        }, 1000);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\talert.error('Erro no envio do pedido. Tente novamente!');\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsetLoadingFlag(false);\n\t\t\t\t\t\t\talert.error('Erro no envio do pedido. Tente novamente!');\n\t\t\t\t\t\t}\n\t\t\t\t    }else{\n\t\t\t\t    \tsetLoadingFlag(false);\n\t\t\t\t    \talert.error('Erro no envio do pedido. Tente novamente!');\n\t\t\t\t    }\n\t\t\t} catch(error){\n\t\t\t\t\tsetLoadingFlag(false);\n\t\t\t\t\talert.error('Erro no envio do pedido. Tente novamente!');\n\t\t\t}\n \t}\n\n\n\treturn(\n\t\t\t\t<Transition.Root show={props.open} as={Fragment}>\n\t\t\t\t\t{\n\t\t\t\t\t\t!loadingFlag ? (\n\t\t\t\t\t\t\t<div>\n\t\t      \t\t<Dialog as=\"div\" className=\"fixed inset-0 overflow-hidden w-full z-20\" onClose={props.close}>\n\t\t\t        \t<div className=\"absolute inset-0 overflow-hidden z-20\">\n\t\t\t\t\t        <Transition.Child\n\t\t\t\t\t            as={Fragment}\n\t\t\t\t\t            enter=\"ease-in-out duration-500\"\n\t\t\t\t\t            enterFrom=\"opacity-0\"\n\t\t\t\t\t            enterTo=\"opacity-100\"\n\t\t\t\t\t            leave=\"ease-in-out duration-500\"\n\t\t\t\t\t            leaveFrom=\"opacity-100\"\n\t\t\t\t\t            leaveTo=\"opacity-0\"\n\t\t\t\t\t        >\n\t\t\t\t\t            <Dialog.Overlay className=\"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" />\n\t\t\t\t\t        </Transition.Child>\n\n\t\t\t          \t\t<div className=\"fixed inset-y-0 right-0 pl-10 w-full flex z-20\">\n\t\t\t\t\t\t            <Transition.Child\n\t\t\t\t\t\t              \tas={Fragment}\n\t\t\t\t\t\t              \tenter=\"transform transition ease-in-out duration-500 sm:duration-700\"\n\t\t\t\t\t\t              \tenterFrom=\"translate-x-full\"\n\t\t\t\t\t\t              \tenterTo=\"translate-x-0\"\n\t\t\t\t\t\t              \tleave=\"transform transition ease-in-out duration-500 sm:duration-700\"\n\t\t\t\t\t\t              \tleaveFrom=\"translate-x-0\"\n\t\t\t\t\t\t              \tleaveTo=\"translate-x-full\"\n\t\t\t\t\t\t            >\n\t\t\t              \t\t\t\t<div className=\"w-screen max-w-md\">\n\t\t\t                \t\t\t\t<div className=\"w-full h-full flex flex-col bg-white shadow-xl overflow-y-scroll\">\n\t\t\t                \t\t\t\t\t{\n\t\t\t                \t\t\t\t\t\t!showModalAddress ? (\n\t\t\t\t\t                  \t\t\t\t\t<div className=\"flex-1 py-6 overflow-y-auto px-4 sm:px-6\">\n\t\t\t\t\t\t\t                    \t\t\t<div className=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t                      \t\t\t<Dialog.Title className=\"text-lg font-medium text-gray-900\">Meu carrinho</Dialog.Title>\n\t\t\t\t\t\t\t\t\t\t\t\t\t                <div className=\"ml-3 h-7 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t                    <button\n\t\t\t\t\t\t\t\t\t\t\t\t\t                       \ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t                        className=\"-m-2 p-2 text-gray-400 hover:text-gray-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t                        onClick={props.close}\n\t\t\t\t\t\t\t\t\t\t\t\t\t                    >\n\t\t\t\t\t\t\t\t\t\t\t\t\t                        <span className=\"sr-only\">Fechar</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t                        <XIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t                    </button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t                </div>\n\t\t\t\t\t\t\t                    \t\t  </div>\n\t\t\t\t\t\t\t                    \t\t\t\n\t\t\t\t\t\t\t\t\t\t                    <div className=\"mt-8\">\n\t\t\t\t\t\t\t\t\t\t                    \t{\n\t\t\t\t\t\t\t\t\t\t                    \t\tdataProducts.length !== 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t                      \t<div className=\"flow-root\">\n\t\t\t\t\t\t\t\t\t\t\t                        \t<ul className=\"-my-6 divide-y divide-gray-200\">\n\t\t\t\t\t\t\t\t\t\t\t                          \t\t{dataProducts.map((product) => (\n\t\t\t\t\t\t\t\t\t\t\t                            \t\t<li key={product.id} className=\"py-6 flex\">\n\t\t\t\t\t\t\t\t\t\t\t                              \t\t\t<div className=\"flex-shrink-0 w-14 h-14 border border-gray-200 rounded-md overflow-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t                                \t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                  \tsrc={product.image}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                  \talt=\"image-product\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                  \tclassName=\"w-full h-full object-center object-cover\"\n\t\t\t\t\t\t\t\t\t\t\t                                \t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t                              \t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t                              \t\t\t<div className=\"ml-4 flex-1 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t                                \t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t                                  \t\t\t\t<div className=\"flex justify-between text-base font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t                                    \t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t                                      \t\t\t\t\t{product.name}\n\t\t\t\t\t\t\t\t\t\t\t                                    \t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t                                    \t\t\t\t<p className=\"ml-4\">R$ {changeCommaForPoint(product.price)}</p>\n\t\t\t\t\t\t\t\t\t\t\t                                  \t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t                                \t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t                                \t\t\t<div className=\"flex-1 flex items-end justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t                                  \t\t\t\t<p className=\"text-gray-500\">Qtd.: {product.quantity}</p>\n\t\t\t\t\t\t\t\t\t\t\t                                  \t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                    <button \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                    \ttype=\"button\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                    \tclassName=\"font-medium text-indigo-600 hover:text-indigo-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                    \tonClick={() => deleteItemCart(product.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                    >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                      Remover\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                                    </button>\n\t\t\t\t\t\t\t\t\t\t\t                                  \t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t                                \t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t                              \t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t                            \t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t                          \t\t))}\n\t\t\t\t\t\t\t\t\t\t\t                        \t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                \t<div className=\"border-t border-gray-200 py-4 px-4 sm:px-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                    <div className=\"flex justify-between text-base font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                      \t<p>Subtotal</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                      \t<p>R$ {changeCommaForPoint(priceTotal)}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                    </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                    <div className=\"mt-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                      \t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                        className=\"flex justify-center w-full items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                        onClick={() => setShowModalAddress(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                      \t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                        \tFinanlizar pedido\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                      \t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                    </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t                  </div>\n\t\t\t\t\t\t\t\t\t\t\t                      \t</div>\n\t\t\t\t\t\t\t\t\t\t\t                      ):(\n\t\t\t\t\t\t\t\t\t\t\t                      \t<div className=\"w-full m-auto\">\n\t\t\t\t\t\t\t\t\t\t\t                      \t\t<p className=\"w-full text-center text-black font-bold text-xl\">\n\t\t\t\t\t\t\t\t\t\t\t                      \t\t\tSeu carrinho está vázio!\n\t\t\t\t\t\t\t\t\t\t\t                      \t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t                      \t\t<div className=\"flex justify-center mt-10\">\n\t\t\t\t\t\t\t\t\t\t\t\t                      \t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t                      \t\t\t<img src={empty_cart} className=\"rounded-full h-24 w-24\" alt=\"cart-empty\" className=\"h-16 w-16 mt-12\" />\n\t\t\t\t\t\t\t\t\t\t\t\t                      \t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t                      \t</div>\n\t\t\t\t\t\t\t\t\t\t\t                      )\n\t\t\t\t\t\t\t\t\t\t\t                    }\n\t\t\t\t\t\t\t\t\t\t                    </div>\n\t\t\t\t\t\t\t\t                \t\t\t</div>\n\t\t\t\t\t\t\t\t              ):(\n\t\t\t\t\t\t\t\t              \t<ModalAddressClient\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshow={showModalAddress}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclose={() => setShowModalAddress(false)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonFinishOrder={(data) => finishOrder(data)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t                \t\t\t\t)\n\t\t\t                \t\t\t}\n\t\t\t                \t\t </div>\n\t\t\t            \t\t\t</div>\n\t\t            \t\t\t</Transition.Child>\n\t\t          \t\t\t</div>\n\t\t        \t\t</div>\n\t\t      \t\t</Dialog>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t):(\n\t\t\t\t\t\t\t<Loading time={5000} />\n\t\t\t\t\t\t)\n\t\t\t\t\t}\t\n    \t\t</Transition.Root>\n\t);\n}\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}
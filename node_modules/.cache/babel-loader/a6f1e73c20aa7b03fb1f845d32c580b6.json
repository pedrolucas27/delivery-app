{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/components/ShoppingCart/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport API from \"../../server/api.js\";\nimport { Fragment } from 'react';\nimport { Dialog, Transition } from '@headlessui/react';\nimport { XIcon } from '@heroicons/react/outline';\nimport pie_default from \"../../images/pie.png\";\nimport empty_default from \"../../images/empty_product.jpeg\";\nimport empty_cart from \"../../images/empty-cart.png\";\nimport { changeCommaForPoint, getIdCompany } from \"../../helpers.js\";\nimport ModalAddressClient from \"../ModalAddressClient\";\nimport Loading from \"../Loading\";\nimport \"../../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShoppingCart = props => {\n  _s();\n\n  const ID_COMPANY = getIdCompany();\n  const idClient = localStorage.getItem('@masterpizza-delivery-app/id_client');\n  const [dataProducts, setDataProducts] = useState([]);\n  const [priceTotal, setPriceTotal] = useState(0);\n  const [showModalAddress, setShowModalAddress] = useState(false);\n  const [loadingFlag, setLoadingFlag] = useState(false); //const [valueDiscount, setValueDiscount] = useState(0);\n\n  const alert = useAlert();\n  useEffect(() => {\n    getCartProduct();\n  }, []);\n\n  const getCartProduct = async () => {\n    try {\n      const response = await API.get(\"cart_product/\" + idClient + \"/\" + ID_COMPANY);\n      let array = [];\n      let price = 0;\n      response.data.forEach(product => {\n        if (product.id_product_fk && product.id_product_fk2) {\n          array.push({\n            id: product.id,\n            name: product.observation,\n            size: product.size,\n            price: product.price_item_order,\n            quantity: product.quantity_item,\n            image: pie_default,\n            is_product_mister: true\n          });\n        } else {\n          array.push({\n            id: product.id,\n            name: product.name_product || product.name,\n            size: product.size,\n            price: product.price_item_order,\n            quantity: product.quantity_item,\n            image: product.image ? `https://api-master-pizza.herokuapp.com/${product.image}` : empty_default,\n            is_product_mister: false\n          });\n        }\n\n        price += product.price_item_order;\n      });\n      setPriceTotal(price);\n      setDataProducts(array);\n    } catch (error) {\n      console.log('Erro ao tentar acessar carrinho. Tente novamente!');\n    }\n  };\n\n  const deleteItemCart = async id => {\n    props.onLoading(true);\n\n    try {\n      const response = await API.delete(\"cart_product/\" + id);\n\n      if (response.status === 200) {\n        getCartProduct();\n        props.onLoading(false);\n        alert.success(response.data.message);\n      } else {\n        props.onLoading(false);\n        alert.error(response.data.message);\n      }\n    } catch (error) {\n      props.onLoading(false);\n      alert.error(\"Error ao tentar deletar item. Tente novamente!\");\n    }\n  };\n\n  const finishCart = async () => {\n    //ATUALIZAR COLUNA -> completed_purchase\n    try {\n      const idCart = localStorage.getItem('@masterpizza-delivery-app/id_cart');\n      const response = await API.put(\"cart_status\", {\n        idClient: idClient,\n        idCart: idCart,\n        idCompany: ID_COMPANY\n      });\n      return response.status === 200 ? true : false;\n    } catch (error) {\n      alert.error('Erro ao tentar finalizar pedido. Tente novamente!');\n    }\n  };\n\n  const finishOrder = async formAddress => {\n    setLoadingFlag(true);\n\n    try {\n      setShowModalAddress(!showModalAddress);\n      let price_order = 0;\n      let arrayIdsProducts = [];\n      dataProducts.forEach(item => {\n        price_order += item.price;\n        arrayIdsProducts.push(item.id);\n      });\n      let address = `Rua: ${formAddress.street};NÂ°: ${formAddress.number_address};Bairro: ${formAddress.district}`;\n      const responseFinishOrder = await API.post(\"createOrder\", {\n        amount_paid: formAddress.amount_paid ? Number(formAddress.amount_paid.replace(\",\", \".\")) : 0,\n        price_final: price_order - formAddress.valueDiscount,\n        freight: 2,\n        status_order: 0,\n        is_pdv: false,\n        observation: formAddress.observation || null,\n        address_client: String(address),\n        id_coupom_fk: formAddress.coupom ? formAddress.coupom.id_coupom : null,\n        id_client_fk: idClient,\n        id_company: ID_COMPANY,\n        idsFormPayment: [formAddress.form_payment]\n      });\n\n      if (responseFinishOrder.status === 200) {\n        const idOrder = responseFinishOrder.data.id_order;\n        const responseProductOrder = await API.post(\"createProductsOrder\", {\n          id_order: idOrder,\n          id_company: ID_COMPANY,\n          ids_products: arrayIdsProducts\n        });\n\n        if (responseProductOrder.status === 200) {\n          const res = await finishCart();\n          setLoadingFlag(false);\n\n          if (res) {\n            alert.success('Pedido enviado com sucesso! Acompanhe o andamento no seu perfil.');\n            setTimeout(() => {\n              window.location.href = \"/profile\";\n            }, 1000);\n          } else {\n            alert.error('Erro no envio do pedido. Tente novamente!');\n          }\n        } else {\n          setLoadingFlag(false);\n          alert.error('Erro no envio do pedido. Tente novamente!');\n        }\n      } else {\n        setLoadingFlag(false);\n        alert.error('Erro no envio do pedido. Tente novamente!');\n      }\n    } catch (error) {\n      setLoadingFlag(false);\n      alert.error('Erro no envio do pedido. Tente novamente!');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Transition.Root, {\n    show: props.open,\n    as: Fragment,\n    children: !loadingFlag ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Dialog, {\n        as: \"div\",\n        className: \"fixed inset-0 overflow-hidden w-full z-20\",\n        onClose: props.close,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 overflow-hidden z-20\",\n          children: [/*#__PURE__*/_jsxDEV(Transition.Child, {\n            as: Fragment,\n            enter: \"ease-in-out duration-500\",\n            enterFrom: \"opacity-0\",\n            enterTo: \"opacity-100\",\n            leave: \"ease-in-out duration-500\",\n            leaveFrom: \"opacity-100\",\n            leaveTo: \"opacity-0\",\n            children: /*#__PURE__*/_jsxDEV(Dialog.Overlay, {\n              className: \"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fixed inset-y-0 right-0 pl-10 w-full flex z-20\",\n            children: /*#__PURE__*/_jsxDEV(Transition.Child, {\n              as: Fragment,\n              enter: \"transform transition ease-in-out duration-500 sm:duration-700\",\n              enterFrom: \"translate-x-full\",\n              enterTo: \"translate-x-0\",\n              leave: \"transform transition ease-in-out duration-500 sm:duration-700\",\n              leaveFrom: \"translate-x-0\",\n              leaveTo: \"translate-x-full\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-screen max-w-md\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full h-full flex flex-col bg-white shadow-xl overflow-y-scroll\",\n                  children: !showModalAddress ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 py-6 overflow-y-auto px-4 sm:px-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(Dialog.Title, {\n                        className: \"text-lg font-medium text-gray-900\",\n                        children: \"Meu carrinho\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 194,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"ml-3 h-7 flex items-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"-m-2 p-2 text-gray-400 hover:text-gray-500\",\n                          onClick: props.close,\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"sr-only\",\n                            children: \"Fechar\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 201,\n                            columnNumber: 19\n                          }, this), /*#__PURE__*/_jsxDEV(XIcon, {\n                            className: \"h-6 w-6\",\n                            \"aria-hidden\": \"true\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 202,\n                            columnNumber: 19\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 196,\n                          columnNumber: 18\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 17\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 16\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-8\",\n                      children: dataProducts.length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flow-root\",\n                        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                          className: \"-my-6 divide-y divide-gray-200\",\n                          children: dataProducts.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n                            className: \"py-6 flex\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex-shrink-0 w-14 h-14 border border-gray-200 rounded-md overflow-hidden\",\n                              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                src: product.image,\n                                alt: \"image_produto\",\n                                className: \"w-full h-full object-center object-cover\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 215,\n                                columnNumber: 24\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 214,\n                              columnNumber: 23\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ml-4 flex-1 flex flex-col\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"flex justify-between text-base font-medium text-gray-900\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                                    children: product.name\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 224,\n                                    columnNumber: 26\n                                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                    className: \"ml-4\",\n                                    children: [\"R$ \", changeCommaForPoint(product.price)]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 227,\n                                    columnNumber: 26\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 223,\n                                  columnNumber: 25\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 222,\n                                columnNumber: 24\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex-1 flex items-end justify-between text-sm\",\n                                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"text-gray-500\",\n                                  children: [\"Qtd.: \", product.quantity]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 231,\n                                  columnNumber: 25\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"flex\",\n                                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                                    type: \"button\",\n                                    className: \"font-medium text-indigo-600 hover:text-indigo-500\",\n                                    onClick: () => deleteItemCart(product.id),\n                                    children: \"Remover\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 233,\n                                    columnNumber: 26\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 232,\n                                  columnNumber: 25\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 230,\n                                columnNumber: 24\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 221,\n                              columnNumber: 23\n                            }, this)]\n                          }, product.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 213,\n                            columnNumber: 22\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 211,\n                          columnNumber: 20\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"border-t border-gray-200 py-4 px-4 sm:px-6\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex justify-between text-base font-medium text-gray-900\",\n                            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                              children: \"Subtotal\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 248,\n                              columnNumber: 22\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              children: [\"R$ \", changeCommaForPoint(priceTotal)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 249,\n                              columnNumber: 22\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 247,\n                            columnNumber: 21\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-4\",\n                            children: /*#__PURE__*/_jsxDEV(\"button\", {\n                              className: \"flex justify-center w-full items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green\",\n                              onClick: () => setShowModalAddress(true),\n                              children: \"Finanlizar pedido\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 252,\n                              columnNumber: 22\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 251,\n                            columnNumber: 21\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 246,\n                          columnNumber: 20\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 210,\n                        columnNumber: 19\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full m-auto\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"w-full text-center text-black font-bold text-xl\",\n                          children: \"Seu carrinho est\\xE1 v\\xE1zio!\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 263,\n                          columnNumber: 20\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex justify-center mt-10\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: empty_cart,\n                              className: \"rounded-full h-20 w-20 mt-12\",\n                              alt: \"cart-empty\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 268,\n                              columnNumber: 22\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 267,\n                            columnNumber: 21\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 20\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 19\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 16\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 15\n                  }, this) : /*#__PURE__*/_jsxDEV(ModalAddressClient, {\n                    showModalAddress: showModalAddress,\n                    close: () => setShowModalAddress(false),\n                    onFinishOrder: data => finishOrder(data)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 6\n    }, this) : /*#__PURE__*/_jsxDEV(Loading, {\n      time: 5000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ShoppingCart, \"5CI9uwcg3R4prjnzYAoauiNyDc4=\", false, function () {\n  return [useAlert];\n});\n\n_c = ShoppingCart;\nexport default ShoppingCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCart\");","map":{"version":3,"sources":["/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/components/ShoppingCart/index.js"],"names":["React","useState","useEffect","useAlert","API","Fragment","Dialog","Transition","XIcon","pie_default","empty_default","empty_cart","changeCommaForPoint","getIdCompany","ModalAddressClient","Loading","ShoppingCart","props","ID_COMPANY","idClient","localStorage","getItem","dataProducts","setDataProducts","priceTotal","setPriceTotal","showModalAddress","setShowModalAddress","loadingFlag","setLoadingFlag","alert","getCartProduct","response","get","array","price","data","forEach","product","id_product_fk","id_product_fk2","push","id","name","observation","size","price_item_order","quantity","quantity_item","image","is_product_mister","name_product","error","console","log","deleteItemCart","onLoading","delete","status","success","message","finishCart","idCart","put","idCompany","finishOrder","formAddress","price_order","arrayIdsProducts","item","address","street","number_address","district","responseFinishOrder","post","amount_paid","Number","replace","price_final","valueDiscount","freight","status_order","is_pdv","address_client","String","id_coupom_fk","coupom","id_coupom","id_client_fk","id_company","idsFormPayment","form_payment","idOrder","id_order","responseProductOrder","ids_products","res","setTimeout","window","location","href","open","close","length","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport API from \"../../server/api.js\";\nimport { Fragment } from 'react'\nimport { Dialog, Transition } from '@headlessui/react'\nimport { XIcon } from '@heroicons/react/outline'\nimport pie_default from \"../../images/pie.png\";\nimport empty_default from \"../../images/empty_product.jpeg\";\nimport empty_cart from \"../../images/empty-cart.png\";\nimport { changeCommaForPoint, getIdCompany } from \"../../helpers.js\";\nimport ModalAddressClient from \"../ModalAddressClient\";\nimport Loading from \"../Loading\";\nimport \"../../index.css\";\n\nconst ShoppingCart = (props) => {\n\tconst ID_COMPANY = getIdCompany();\n\tconst idClient = localStorage.getItem('@masterpizza-delivery-app/id_client')\n\n\tconst [dataProducts, setDataProducts] = useState([]);\n\tconst [priceTotal, setPriceTotal] = useState(0);\n\tconst [showModalAddress, setShowModalAddress] = useState(false);\n\tconst [loadingFlag, setLoadingFlag] = useState(false);\n\t//const [valueDiscount, setValueDiscount] = useState(0);\n\tconst alert = useAlert();\n\n\tuseEffect(() => {\n\t\tgetCartProduct();\n\t}, [])\n\n\tconst getCartProduct = async () => {\n\t\ttry {\n\t\t\tconst response = await API.get(\"cart_product/\" + idClient + \"/\" + ID_COMPANY);\n\t\t\tlet array = [];\n\t\t\tlet price = 0;\n\t\t\tresponse.data.forEach((product) => {\n\t\t\t\tif (product.id_product_fk && product.id_product_fk2) {\n\t\t\t\t\tarray.push({\n\t\t\t\t\t\tid: product.id,\n\t\t\t\t\t\tname: product.observation,\n\t\t\t\t\t\tsize: product.size,\n\t\t\t\t\t\tprice: product.price_item_order,\n\t\t\t\t\t\tquantity: product.quantity_item,\n\t\t\t\t\t\timage: pie_default,\n\t\t\t\t\t\tis_product_mister: true\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tarray.push({\n\t\t\t\t\t\tid: product.id,\n\t\t\t\t\t\tname: product.name_product || product.name,\n\t\t\t\t\t\tsize: product.size,\n\t\t\t\t\t\tprice: product.price_item_order,\n\t\t\t\t\t\tquantity: product.quantity_item,\n\t\t\t\t\t\timage: product.image ? `https://api-master-pizza.herokuapp.com/${product.image}` : empty_default,\n\t\t\t\t\t\tis_product_mister: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tprice += product.price_item_order;\n\t\t\t})\n\t\t\tsetPriceTotal(price);\n\t\t\tsetDataProducts(array);\n\t\t} catch (error) {\n\t\t\tconsole.log('Erro ao tentar acessar carrinho. Tente novamente!');\n\t\t}\n\t}\n\n\n\tconst deleteItemCart = async (id) => {\n\t\tprops.onLoading(true);\n\t\ttry {\n\t\t\tconst response = await API.delete(\"cart_product/\" + id);\n\t\t\tif (response.status === 200) {\n\t\t\t\tgetCartProduct();\n\t\t\t\tprops.onLoading(false);\n\t\t\t\talert.success(response.data.message);\n\t\t\t} else {\n\t\t\t\tprops.onLoading(false);\n\t\t\t\talert.error(response.data.message);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tprops.onLoading(false);\n\t\t\talert.error(\"Error ao tentar deletar item. Tente novamente!\");\n\t\t}\n\t}\n\n\tconst finishCart = async () => {\n\t\t//ATUALIZAR COLUNA -> completed_purchase\n\t\ttry{\n\t\t\tconst idCart = localStorage.getItem('@masterpizza-delivery-app/id_cart');\n\t\t\tconst response = await API.put(\"cart_status\", { \n\t\t\t\tidClient: idClient, \n\t\t\t\tidCart: idCart, \n\t\t\t\tidCompany: ID_COMPANY \n\t\t\t});\n\t\t\treturn response.status === 200 ? true:false;\n\t\t}catch(error){\n\t\t\talert.error('Erro ao tentar finalizar pedido. Tente novamente!');\n\t\t}\n\t}\n\n\tconst finishOrder = async (formAddress) => {\n\t\tsetLoadingFlag(true);\n\t\ttry {\n\t\t\tsetShowModalAddress(!showModalAddress);\n\t\t\tlet price_order = 0;\n\t\t\tlet arrayIdsProducts = [];\n\t\t\tdataProducts.forEach((item) => {\n\t\t\t\tprice_order += item.price;\n\t\t\t\tarrayIdsProducts.push(item.id);\n\t\t\t});\n\t\t\tlet address = `Rua: ${formAddress.street};NÂ°: ${formAddress.number_address};Bairro: ${formAddress.district}`\n\t\t\tconst responseFinishOrder = await API.post(\"createOrder\", {\n\t\t\t\tamount_paid: formAddress.amount_paid ? Number(formAddress.amount_paid.replace(\",\", \".\")) : 0,\n\t\t\t\tprice_final: price_order - formAddress.valueDiscount,\n\t\t\t\tfreight: 2,\n\t\t\t\tstatus_order: 0,\n\t\t\t\tis_pdv: false,\n\t\t\t\tobservation: formAddress.observation || null,\n\t\t\t\taddress_client: String(address),\n\t\t\t\tid_coupom_fk: formAddress.coupom ? formAddress.coupom.id_coupom : null,\n\t\t\t\tid_client_fk: idClient,\n\t\t\t\tid_company: ID_COMPANY,\n\t\t\t\tidsFormPayment: [formAddress.form_payment]\n\t\t\t});\n\t\t\tif (responseFinishOrder.status === 200) {\n\t\t\t\tconst idOrder = responseFinishOrder.data.id_order;\n\t\t\t\tconst responseProductOrder = await API.post(\"createProductsOrder\",\n\t\t\t\t\t{\n\t\t\t\t\t\tid_order: idOrder,\n\t\t\t\t\t\tid_company: ID_COMPANY,\n\t\t\t\t\t\tids_products: arrayIdsProducts\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (responseProductOrder.status === 200) {\n\t\t\t\t\tconst res = await finishCart();\n\t\t\t\t\tsetLoadingFlag(false);\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\talert.success('Pedido enviado com sucesso! Acompanhe o andamento no seu perfil.');\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\twindow.location.href = \"/profile\";\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert.error('Erro no envio do pedido. Tente novamente!');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetLoadingFlag(false);\n\t\t\t\t\talert.error('Erro no envio do pedido. Tente novamente!');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetLoadingFlag(false);\n\t\t\t\talert.error('Erro no envio do pedido. Tente novamente!');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tsetLoadingFlag(false);\n\t\t\talert.error('Erro no envio do pedido. Tente novamente!');\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<Transition.Root show={props.open} as={Fragment}>\n\t\t\t{\n\t\t\t\t!loadingFlag ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Dialog as=\"div\" className=\"fixed inset-0 overflow-hidden w-full z-20\" onClose={props.close}>\n\t\t\t\t\t\t\t<div className=\"absolute inset-0 overflow-hidden z-20\">\n\t\t\t\t\t\t\t\t<Transition.Child\n\t\t\t\t\t\t\t\t\tas={Fragment}\n\t\t\t\t\t\t\t\t\tenter=\"ease-in-out duration-500\"\n\t\t\t\t\t\t\t\t\tenterFrom=\"opacity-0\"\n\t\t\t\t\t\t\t\t\tenterTo=\"opacity-100\"\n\t\t\t\t\t\t\t\t\tleave=\"ease-in-out duration-500\"\n\t\t\t\t\t\t\t\t\tleaveFrom=\"opacity-100\"\n\t\t\t\t\t\t\t\t\tleaveTo=\"opacity-0\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Dialog.Overlay className=\"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" />\n\t\t\t\t\t\t\t\t</Transition.Child>\n\n\t\t\t\t\t\t\t\t<div className=\"fixed inset-y-0 right-0 pl-10 w-full flex z-20\">\n\t\t\t\t\t\t\t\t\t<Transition.Child\n\t\t\t\t\t\t\t\t\t\tas={Fragment}\n\t\t\t\t\t\t\t\t\t\tenter=\"transform transition ease-in-out duration-500 sm:duration-700\"\n\t\t\t\t\t\t\t\t\t\tenterFrom=\"translate-x-full\"\n\t\t\t\t\t\t\t\t\t\tenterTo=\"translate-x-0\"\n\t\t\t\t\t\t\t\t\t\tleave=\"transform transition ease-in-out duration-500 sm:duration-700\"\n\t\t\t\t\t\t\t\t\t\tleaveFrom=\"translate-x-0\"\n\t\t\t\t\t\t\t\t\t\tleaveTo=\"translate-x-full\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-screen max-w-md\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full h-full flex flex-col bg-white shadow-xl overflow-y-scroll\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t!showModalAddress ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 py-6 overflow-y-auto px-4 sm:px-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dialog.Title className=\"text-lg font-medium text-gray-900\">Meu carrinho</Dialog.Title>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"ml-3 h-7 flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"-m-2 p-2 text-gray-400 hover:text-gray-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={props.close}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"sr-only\">Fechar</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<XIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-8\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataProducts.length !== 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flow-root\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"-my-6 divide-y divide-gray-200\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dataProducts.map((product) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={product.id} className=\"py-6 flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-shrink-0 w-14 h-14 border border-gray-200 rounded-md overflow-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={product.image}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"image_produto\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full object-center object-cover\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"ml-4 flex-1 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-base font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"ml-4\">R$ {changeCommaForPoint(product.price)}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 flex items-end justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-gray-500\">Qtd.: {product.quantity}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-medium text-indigo-600 hover:text-indigo-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteItemCart(product.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemover\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-gray-200 py-4 px-4 sm:px-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-base font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Subtotal</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>R$ {changeCommaForPoint(priceTotal)}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex justify-center w-full items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowModalAddress(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFinanlizar pedido\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full m-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-full text-center text-black font-bold text-xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeu carrinho estÃ¡ vÃ¡zio!\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center mt-10\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={empty_cart}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-full h-20 w-20 mt-12\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"cart-empty\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ModalAddressClient\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModalAddress={showModalAddress}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclose={() => setShowModalAddress(false)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonFinishOrder={(data) => finishOrder(data)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Transition.Child>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Dialog>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<Loading time={5000} />\n\t\t\t\t)\n\t\t\t}\n\t\t</Transition.Root>\n\t);\n}\nexport default ShoppingCart;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/components/ModalAddressClient/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport { changeCommaForPoint, getIdCompany } from \"../../helpers.js\";\nimport API from \"../../server/api.js\";\nimport \"../../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ModalAddressClient = props => {\n  _s();\n\n  const ID_COMPANY = getIdCompany();\n  const [formData, setFormData] = useState({\n    street: '',\n    number_address: '',\n    district: '',\n    form_payment: '',\n    observation: ''\n  });\n  const [dataFormPayment, setDataFormPayment] = useState([]);\n  const [valueDiscount, setValueDiscount] = useState(0);\n  const [nameCoupom, setNameCoupom] = useState(null);\n  const [coupom, setCoupom] = useState(null);\n  const [idFormPayment, setIdFormPayment] = useState(\"-1\");\n  const alert = useAlert();\n  useEffect(() => {\n    API.get(\"form_payment/actives/\" + ID_COMPANY).then(response => {\n      let array = [];\n      console.log(response.data);\n      response.data.forEach(formPayment => {\n        array.push({\n          label: formPayment.name_form_payment,\n          value: formPayment.id\n        });\n      });\n      setDataFormPayment(array);\n    }).catch(error => {\n      console.log('Erro na listagem das formas de pagamento!');\n    });\n  }, []);\n\n  const getCoupomChangeName = async e => {\n    if (nameCoupom) {\n      API.get(\"coupom/\" + nameCoupom + \"/\" + ID_COMPANY).then(response => {\n        if (response.status === 200) {\n          if (response.data) {\n            setCoupom(response.data[0]);\n            setValueDiscount(response.data[0].value_discount);\n          }\n        }\n      }).catch(error => {\n        alert.error(\"Erro de comunicação com o servidor ao tentar buscar cupom.\");\n      });\n    } else {\n      alert.error(\"Informe um cupom válido para poder aplicar!\");\n    }\n\n    e.preventDefault();\n  };\n\n  const onChangeForm = e => {\n    var data = {\n      street: formData.street,\n      number_address: formData.number_address,\n      district: formData.district,\n      form_payment: formData.form_payment,\n      observation: formData.observation\n    };\n    data[e.target.name] = e.target.value;\n    setFormData(data);\n  };\n\n  const submitData = () => {\n    if (formData.street && formData.number_address && formData.district) {\n      if (idFormPayment !== \"-1\") {\n        var json = {\n          street: formData.street,\n          number_address: formData.number_address,\n          district: formData.district,\n          form_payment: idFormPayment,\n          coupom: coupom,\n          observation: formData.observation,\n          valueDiscount: valueDiscount\n        };\n        props.onFinishOrder(json);\n      } else {\n        alert.error(\"Escolha uma forma de pagamento.\");\n      }\n    } else {\n      alert.error(\"Preencha todos os campos referente ao endereço.\");\n    }\n  };\n\n  const changeFormPayment = e => {\n    console.log(e.target.value);\n    let formPayment = dataFormPayment.filter(form => form.label === e.target.value);\n\n    if (formPayment.length !== 0) {\n      console.log(formPayment[0].value);\n      setIdFormPayment(formPayment[0].value);\n    } else {\n      setIdFormPayment(\"-1\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: props.show ? \"overflow-y-visible overflow-x-hidden fixed w-full h-full top-0 left-0 flex items-center justify-center\" : \"modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay absolute w-full h-full bg-gray-900 opacity-50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50\",\n        onClick: () => props.close(),\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"fill-current text-white\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"18\",\n          height: \"18\",\n          viewBox: \"0 0 18 18\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(Esc)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content py-4 px-6 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center pb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold mb:2 \",\n            children: \"Dados pessoais para entrega\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-close cursor-pointer z-50\",\n            onClick: () => props.close(),\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"fill-current text-black\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"18\",\n              height: \"18\",\n              viewBox: \"0 0 18 18\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"w-full text-md text-black font-semibold\",\n              children: \"Endere\\xE7o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-1 mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"block border border-black-light w-full p-2 rounded-md mb-4\",\n                  name: \"street\",\n                  value: formData.street,\n                  placeholder: \"Rua\",\n                  onChange: e => onChangeForm(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-1\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"block border border-black-light w-full p-2 rounded-md mb-4\",\n                  name: \"number_address\",\n                  value: formData.number_address,\n                  placeholder: \"N\\xFAmero\",\n                  onChange: e => onChangeForm(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"block border border-black-light w-full p-3 rounded mb-4\",\n                  name: \"district\",\n                  value: formData.district,\n                  placeholder: \"Bairro\",\n                  onChange: e => onChangeForm(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"w-full text-md text-black font-semibold mt-5\",\n              children: \"Dados do pagamento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"block border border-black-light w-full p-2 rounded-md mb-4\",\n                  onChange: changeFormPayment,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"-1\",\n                    children: \"Esolha uma forma de pagamento\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 13\n                  }, this), dataFormPayment.map((formPayment, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: formPayment.id,\n                    children: formPayment.label\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 15\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"block border border-black-light w-full p-2 rounded-md mb-4\",\n                  name: \"coupom\",\n                  value: formData.coupom,\n                  placeholder: \"Cupom\",\n                  onChange: e => setNameCoupom(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-1\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: getCoupomChangeName,\n                  className: \"bg-yellow p-2 rounded-md w-full p-2 text-white\",\n                  children: \"Aplicar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 8\n              }, this), valueDiscount !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-3\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-green\",\n                  children: [\"Voc\\xEA ter\\xE1 R$ \", changeCommaForPoint(valueDiscount), \" de desconto.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"block border border-black-light w-full p-3 rounded mb-4\",\n                  name: \"observation\",\n                  value: formData.observation,\n                  placeholder: \"Observa\\xE7\\xE3o\",\n                  onChange: e => onChangeForm(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end pt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mr-2 bg-red p-2 rounded-lg text-white\",\n            onClick: () => props.close(),\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-green p-2 rounded-lg text-white\",\n            onClick: () => submitData(),\n            children: \"Finanlizar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ModalAddressClient, \"c/AtpsWvLpiSav51k1mnqdncpMU=\", false, function () {\n  return [useAlert];\n});\n\n_c = ModalAddressClient;\nexport default ModalAddressClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalAddressClient\");","map":{"version":3,"sources":["/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/components/ModalAddressClient/index.js"],"names":["React","useState","useEffect","useAlert","changeCommaForPoint","getIdCompany","API","ModalAddressClient","props","ID_COMPANY","formData","setFormData","street","number_address","district","form_payment","observation","dataFormPayment","setDataFormPayment","valueDiscount","setValueDiscount","nameCoupom","setNameCoupom","coupom","setCoupom","idFormPayment","setIdFormPayment","alert","get","then","response","array","console","log","data","forEach","formPayment","push","label","name_form_payment","value","id","catch","error","getCoupomChangeName","e","status","value_discount","preventDefault","onChangeForm","target","name","submitData","json","onFinishOrder","changeFormPayment","filter","form","length","show","close","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport { changeCommaForPoint, getIdCompany } from \"../../helpers.js\";\nimport API from \"../../server/api.js\";\nimport \"../../index.css\";\nconst ModalAddressClient = (props) => {\n\tconst ID_COMPANY = getIdCompany();\n\t\n\tconst [formData, setFormData] = useState({\n\t\tstreet: '',\n\t\tnumber_address: '',\n\t\tdistrict: '',\n\t\tform_payment: '',\n\t\tobservation: ''\n\t});\n\tconst [dataFormPayment, setDataFormPayment] = useState([]);\n\tconst [valueDiscount, setValueDiscount] = useState(0);\n\tconst [nameCoupom, setNameCoupom] = useState(null);\n\tconst [coupom, setCoupom] = useState(null);\n\tconst [idFormPayment, setIdFormPayment] = useState(\"-1\");\n\tconst alert = useAlert();\n\n\tuseEffect(() => {\n\t\tAPI.get(\"form_payment/actives/\"+ID_COMPANY).then((response) => {\n\t\t\tlet array = [];\n\t\t\tconsole.log(response.data);\n\t\t\tresponse.data.forEach((formPayment) => {\n\t\t\t\tarray.push({\n\t\t\t\t\tlabel: formPayment.name_form_payment,\n\t\t\t\t\tvalue: formPayment.id,\n\t\t\t\t})\n\t\t\t})\n\t\t\tsetDataFormPayment(array);\t\t\t\t\t\t\n\t\t}).catch((error) => {\n\t\t\tconsole.log('Erro na listagem das formas de pagamento!');\n\t\t});\n\t}, []);\n\n\tconst getCoupomChangeName = async (e) => {\n\t\tif(nameCoupom){\n\t\t\tAPI.get(\"coupom/\"+nameCoupom+\"/\"+ID_COMPANY).then((response) => {\n\t\t\t\tif(response.status === 200){\n\t\t\t\t\tif(response.data){\n\t\t\t\t\t\tsetCoupom(response.data[0]);\n\t\t\t\t\t\tsetValueDiscount(response.data[0].value_discount)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\talert.error(\"Erro de comunicação com o servidor ao tentar buscar cupom.\");\n\t\t\t});\n\t\t}else{\n\t\t\talert.error(\"Informe um cupom válido para poder aplicar!\");\n\t\t}\n\t\te.preventDefault();\n\t}\n\n\tconst onChangeForm = (e) => {\n\t\tvar data = {\n\t\t\tstreet: formData.street,\n\t\t\tnumber_address: formData.number_address,\n\t\t\tdistrict: formData.district,\n\t\t\tform_payment: formData.form_payment,\n\t\t\tobservation: formData.observation\n\t\t}\n\t\tdata[e.target.name] = e.target.value;\n\t\tsetFormData(data);\n\t}\n\n\tconst submitData = () => {\n\t\tif(formData.street && formData.number_address && formData.district){\n\t\t\tif(idFormPayment !== \"-1\"){\n\t\t\t\tvar json = {\n\t\t\t\t\tstreet: formData.street,\n\t\t\t\t\tnumber_address: formData.number_address,\n\t\t\t\t\tdistrict: formData.district,\n\t\t\t\t\tform_payment: idFormPayment,\n\t\t\t\t\tcoupom: coupom,\n\t\t\t\t\tobservation: formData.observation,\n\t\t\t\t\tvalueDiscount: valueDiscount\n\t\t\t\t}\n\t\t\t\tprops.onFinishOrder(json);\n\t\t\t}else{\n\t\t\t\talert.error(\"Escolha uma forma de pagamento.\");\n\t\t\t}\n\t\t}else{\n\t\t\talert.error(\"Preencha todos os campos referente ao endereço.\");\n\t\t}\n\t}\n\n\tconst changeFormPayment = (e) => {\n\t\tconsole.log(e.target.value);\n\t\tlet formPayment = dataFormPayment.filter((form) => form.label === e.target.value);\n\t\tif(formPayment.length !== 0){\n\t\t\tconsole.log(formPayment[0].value);\n\t\t\tsetIdFormPayment(formPayment[0].value);\n\t\t}else{\n\t\t\tsetIdFormPayment(\"-1\");\n\t\t}\n\t\t\n\t}\n\n\treturn(\n\t\t<div className={\n\t\t\tprops.show ? \n\t\t\t\t\"overflow-y-visible overflow-x-hidden fixed w-full h-full top-0 left-0 flex items-center justify-center\"\n\t\t\t:\n\t\t\t\t\"modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center\"\n\t\t}>\n    \t\t<div className=\"modal-overlay absolute w-full h-full bg-gray-900 opacity-50\"></div>\n    \n\t\t    <div className=\"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto\">\n\t\t      \n\t\t      <div \n\t\t      \tclassName=\"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50\"\n\t\t      \tonClick={() => props.close()}\n\t\t      >\n\t\t        <svg className=\"fill-current text-white\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\n\t\t          <path d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"></path>\n\t\t        </svg>\n\t\t        <span className=\"text-sm\">(Esc)</span>\n\t\t      </div>\n\n\t\t      <div className=\"modal-content py-4 px-6 rounded-lg\">\n\t\t        <div className=\"flex justify-between items-center pb-3\">\n\t\t          <p className=\"text-lg font-semibold mb:2 \">Dados pessoais para entrega</p>\n\t\t          <div className=\"modal-close cursor-pointer z-50\" onClick={() => props.close()}>\n\t\t            <svg className=\"fill-current text-black\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\n\t\t              <path d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\"></path>\n\t\t            </svg>\n\t\t          </div>\n\t\t        </div>\n\n\t\t        <div className=\"w-full\">\n\t\t\t\t  \t<form>\n\t\t\t\t  \t\t<p className=\"w-full text-md text-black font-semibold\">Endereço</p>\n\t\t\t\t  \t\t<div className=\"grid grid-cols-3 gap-1 mt-4\">\n\t\t\t\t\t\t  \t<div className=\"col-span-2\">\n     \t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t                        className=\"block border border-black-light w-full p-2 rounded-md mb-4\"\n\t\t\t\t\t\t\t\t\tname=\"street\"\n\t\t\t\t\t\t\t\t\tvalue={formData.street}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Rua\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => onChangeForm(e)}\n\t\t\t                    />\n\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t  \t<div className=\"col-span-1\">\n     \t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t                        className=\"block border border-black-light w-full p-2 rounded-md mb-4\"\n\t\t\t\t\t\t\t\t\tname=\"number_address\"\n\t\t\t\t\t\t\t\t\tvalue={formData.number_address}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Número\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => onChangeForm(e)}\n\t\t\t                    />\n\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t  \t<div className=\"col-span-3\">\n     \t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t                        className=\"block border border-black-light w-full p-3 rounded mb-4\"\n\t\t\t\t\t\t\t\t\tname=\"district\"\n\t\t\t\t\t\t\t\t\tvalue={formData.district}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Bairro\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => onChangeForm(e)}\n\t\t\t                    />\n\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"w-full text-md text-black font-semibold mt-5\">Dados do pagamento</p>\n\t\t\t\t  \t\t<div className=\"grid grid-cols-3 gap-2\">\n\t\t\t\t\t\t  \t<div className=\"col-span-3\">\n     \t\t\t\t\t\t\t<select \n     \t\t\t\t\t\t\t\tclassName=\"block border border-black-light w-full p-2 rounded-md mb-4\"\n     \t\t\t\t\t\t\t\tonChange={changeFormPayment}\n     \t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t    <option value=\"-1\">Esolha uma forma de pagamento</option>\n\t\t\t\t\t\t\t\t    {\n\t\t\t\t\t\t\t\t    \tdataFormPayment.map((formPayment, index) => (\n\t\t\t\t\t\t\t\t    \t\t<option key={index} value={formPayment.id}>{formPayment.label}</option>\n\t\t\t\t\t\t\t\t    \t))\n\t\t\t\t\t\t\t\t    }\n  \t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t  \t<div className=\"col-span-2\">\n\t\t\t     \t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t            className=\"block border border-black-light w-full p-2 rounded-md mb-4\"\n\t\t\t\t\t\t\t\t\tname=\"coupom\"\n\t\t\t\t\t\t\t\t\tvalue={formData.coupom}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Cupom\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNameCoupom(e.target.value)}\n\t\t\t\t\t\t        />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-span-1\">\n\t\t\t     \t\t\t\t<button onClick={getCoupomChangeName} className=\"bg-yellow p-2 rounded-md w-full p-2 text-white\">\n\t\t\t     \t\t\t\t\tAplicar\n\t\t\t \t\t\t\t\t</button>\n\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t  \t{\n\t\t\t\t\t\t\t\tvalueDiscount !== 0 && (\n\t\t\t\t\t\t  \t\t\t<div className=\"col-span-3\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-green\">\n\t\t\t\t\t\t\t\t  \t\t\tVocê terá R$ {changeCommaForPoint(valueDiscount)} de desconto.\n\t\t\t\t\t\t\t\t  \t\t</p>\n\t\t\t\t\t\t  \t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t  \t}\n\t\t\t\t\t\t  \t<div className=\"col-span-3\">\n     \t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t                        className=\"block border border-black-light w-full p-3 rounded mb-4\"\n\t\t\t\t\t\t\t\t\tname=\"observation\"\n\t\t\t\t\t\t\t\t\tvalue={formData.observation}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Observação\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => onChangeForm(e)}\n\t\t\t                    />\n\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t  \t</form>  \t\n\t\t\t\t</div>\n\n\t\t        <div className=\"flex justify-end pt-2\">\n\t\t          \t<button className=\"mr-2 bg-red p-2 rounded-lg text-white\" onClick={() => props.close()}>Cancelar</button>\n\t\t\t        <button className=\"bg-green p-2 rounded-lg text-white\" onClick={() => submitData()}>Finanlizar</button>\n\t\t        </div>\n\t\t      </div>\n\t\t    </div>\n  \t\t</div>\n\t);\n}\nexport default ModalAddressClient;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/pages/Menu/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useAlert } from 'react-alert';\nimport API from \"../../server/api.js\";\nimport { isLoggedIn } from \"../../server/auth.js\";\nimport { getIdCompany } from \"../../helpers.js\";\nimport Navbar from \"../../components/Navbar\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport CardCategory from \"../../components/CardCategory\";\nimport ShoppingCartMobile from \"../../components/ShoppingCart\";\nimport Loading from \"../../components/Loading\";\nimport MessageIsEmpty from \"../../components/MessageIsEmpty\";\nimport \"../../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Menu = () => {\n  _s();\n\n  const ID_COMPANY = getIdCompany();\n  const [openCart, setOpenCart] = useState(false);\n  const [dataCategory, setDataCategory] = useState([]);\n  const [loadingFlag, setLoadingFlag] = useState(false);\n  const [logged, setLogged] = useState(false);\n  const alert = useAlert();\n  useEffect(() => {\n    setLoadingFlag(true);\n    isLoggedIn().then(response => {\n      setLogged(response);\n    }).catch(error => {\n      setLogged(false);\n    });\n    API.get(\"category/actives/\" + ID_COMPANY).then(response => {\n      let array = [];\n      console.log(response);\n      response.data.forEach(category => {\n        array.push({\n          id: category.id_category,\n          name: category.name_category,\n          image: category.image ? `https://api-master-pizza.herokuapp.com/${category.image}` : null\n        });\n      });\n      setDataCategory(array);\n      setLoadingFlag(false);\n    }).catch(error => {\n      setLoadingFlag(false);\n      alert.error('Erro ao tentar listar categorias!');\n    });\n  }, []);\n\n  const redirect = (idCategory, name) => {\n    localStorage.setItem(\"@masterpizza-delivery-app/key-category\", name.toUpperCase());\n    localStorage.setItem(\"@masterpizza-delivery-app/id-category\", idCategory);\n    window.location.href = \"/flavors-by-category/\" + idCategory;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loadingFlag ? /*#__PURE__*/_jsxDEV(Loading, {\n      time: 5000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        current: \"menu\",\n        clickCartMobile: () => setOpenCart(!openCart)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        title: 'Cardápio'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-6 sm:px-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-lg h-96\",\n              children: dataCategory.length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid gap-4 sm:grid-cols-2 md:grid-cols-3\",\n                children: dataCategory.map(item => /*#__PURE__*/_jsxDEV(CardCategory, {\n                  image: item.image,\n                  name: item.name,\n                  onChangeCategory: () => redirect(item.id, item.name)\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 16\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 13\n              }, this) : /*#__PURE__*/_jsxDEV(MessageIsEmpty, {\n                title: \"N\\xE3o existe categoria ativa!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ShoppingCartMobile, {\n        open: openCart,\n        close: () => setOpenCart(false),\n        onLoading: flag => setLoadingFlag(flag),\n        idClient: logged ? localStorage.getItem('@masterpizza-delivery-app/id_client') : null,\n        idCompany: logged ? ID_COMPANY : null,\n        logged: logged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Menu, \"sQi/SbcmAbg40zCP6wiodbsKMN4=\", false, function () {\n  return [useAlert];\n});\n\n_c = Menu;\nexport default Menu;\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"sources":["/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/pages/Menu/index.js"],"names":["React","useState","useEffect","useAlert","API","isLoggedIn","getIdCompany","Navbar","Header","Footer","CardCategory","ShoppingCartMobile","Loading","MessageIsEmpty","Menu","ID_COMPANY","openCart","setOpenCart","dataCategory","setDataCategory","loadingFlag","setLoadingFlag","logged","setLogged","alert","then","response","catch","error","get","array","console","log","data","forEach","category","push","id","id_category","name","name_category","image","redirect","idCategory","localStorage","setItem","toUpperCase","window","location","href","length","map","item","flag","getItem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAlert } from 'react-alert';\nimport API from \"../../server/api.js\";\nimport { isLoggedIn } from \"../../server/auth.js\";\nimport { getIdCompany } from \"../../helpers.js\";\nimport Navbar from \"../../components/Navbar\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport CardCategory from \"../../components/CardCategory\";\nimport ShoppingCartMobile from \"../../components/ShoppingCart\";\nimport Loading from \"../../components/Loading\";\nimport MessageIsEmpty from \"../../components/MessageIsEmpty\";\nimport \"../../index.css\";\n\nconst Menu = () => {\n\tconst ID_COMPANY = getIdCompany();\n\tconst [openCart, setOpenCart] = useState(false);\n\tconst [dataCategory, setDataCategory] = useState([]);\n\tconst [loadingFlag, setLoadingFlag] = useState(false);\n\tconst [logged, setLogged] = useState(false);\n\tconst alert = useAlert();\n\n\tuseEffect(() => {\n\t\tsetLoadingFlag(true);\n\t\tisLoggedIn().then((response) => {\n\t\t\tsetLogged(response);\n\t\t}).catch((error) => {\n\t\t\tsetLogged(false);\n\t\t});\n\t\tAPI.get(\"category/actives/\" + ID_COMPANY).then((response) => {\n\t\t\tlet array = [];\n\t\t\tconsole.log(response);\n\t\t\tresponse.data.forEach((category) => {\n\t\t\t\tarray.push({\n\t\t\t\t\tid: category.id_category,\n\t\t\t\t\tname: category.name_category,\n\t\t\t\t\timage: category.image ? `https://api-master-pizza.herokuapp.com/${category.image}` : null\n\t\t\t\t})\n\t\t\t})\n\t\t\tsetDataCategory(array);\n\t\t\tsetLoadingFlag(false);\n\t\t}).catch((error) => {\n\t\t\tsetLoadingFlag(false);\n\t\t\talert.error('Erro ao tentar listar categorias!');\n\t\t});\n\t}, []);\n\n\tconst redirect = (idCategory, name) => {\n\t\tlocalStorage.setItem(\"@masterpizza-delivery-app/key-category\", name.toUpperCase());\n\t\tlocalStorage.setItem(\"@masterpizza-delivery-app/id-category\", idCategory);\n\t\twindow.location.href = \"/flavors-by-category/\" + idCategory;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\tloadingFlag ? (\n\t\t\t\t\t<Loading time={5000} />\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Navbar current={\"menu\"} clickCartMobile={() => setOpenCart(!openCart)} />\n\t\t\t\t\t\t<Header title={'Cardápio'} />\n\t\t\t\t\t\t<main>\n\t\t\t\t\t\t\t<div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n\t\t\t\t\t\t\t\t<div className=\"px-4 py-6 sm:px-0\">\n\t\t\t\t\t\t\t\t\t<div className=\"rounded-lg h-96\">\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tdataCategory.length !== 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2 md:grid-cols-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataCategory.map((item) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardCategory\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\timage={item.image}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeCategory={() => redirect(item.id, item.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<MessageIsEmpty\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Não existe categoria ativa!\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t\t<ShoppingCartMobile\n\t\t\t\t\t\t\topen={openCart}\n\t\t\t\t\t\t\tclose={() => setOpenCart(false)}\n\t\t\t\t\t\t\tonLoading={(flag) => setLoadingFlag(flag)}\n\t\t\t\t\t\t\tidClient={logged ? localStorage.getItem('@masterpizza-delivery-app/id_client') : null}\n\t\t\t\t\t\t\tidCompany={logged ? ID_COMPANY : null}\n\t\t\t\t\t\t\tlogged={logged}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n}\nexport default Menu;"]},"metadata":{},"sourceType":"module"}
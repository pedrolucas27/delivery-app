{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/pages/ListFlavors/index.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport { useAlert } from 'react-alert';\nimport API from \"../../server/api.js\";\nimport { isLoggedIn } from \"../../server/auth.js\";\nimport { getIdCompany } from \"../../helpers.js\";\nimport Navbar from \"../../components/Navbar\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport CardFlavor from \"../../components/CardFlavor\";\nimport ShoppingCartMobile from \"../../components/ShoppingCart\";\nimport Loading from \"../../components/Loading\";\nimport MessageIsEmpty from \"../../components/MessageIsEmpty\";\nimport \"../../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ListFlavors = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  localStorage.removeItem(\"@masterpizza-delivery-app/key-flavor\");\n  const [dataFlavor, setDataFlavor] = useState([]);\n  const [openCart, setOpenCart] = useState(false);\n  const [loadingFlag, setLoadingFlag] = useState(false);\n  const [logged, setLogged] = useState(false);\n  const alert = useAlert();\n  useEffect(_s(() => {\n    _s();\n\n    const ID_COMPANY = getIdCompany();\n    const {\n      idCategory\n    } = useParams();\n    setLoadingFlag(true);\n    isLoggedIn().then(response => {\n      setLogged(response);\n    }).catch(error => {\n      setLogged(false);\n    });\n    API.get(\"flavor/byCategory/\" + idCategory + \"/\" + ID_COMPANY).then(response => {\n      let array = [];\n      response.data.forEach(flavor => {\n        array.push({\n          id: flavor.id,\n          name: flavor.name_flavor,\n          description: flavor.description,\n          check: false\n        });\n      });\n      setDataFlavor(array);\n      setLoadingFlag(false);\n    }).catch(error => {\n      setLoadingFlag(false);\n      alert.error('Erro ao tentar listar sabores!');\n    });\n  }, \"2vLD9QKtP818gvzqg0hZh8dLCEk=\", false, function () {\n    return [useParams];\n  }), []);\n\n  const checkFlavor = id => {\n    let obj = dataFlavor.filter(i => i.id === id)[0];\n    let newObj = {\n      id: id,\n      name: obj.name,\n      description: obj.description,\n      check: !obj.check\n    };\n    let categoryByFlavor = localStorage.getItem(\"@masterpizza-delivery-app/key-category\");\n\n    if (categoryByFlavor === \"PIZZA\" || categoryByFlavor === \"PIZZAS\") {\n      let is_check = !obj.check;\n\n      if (is_check && dataFlavor.filter(i => i.check === true).length === 2) {\n        alert.error('Só se pode escolher no máximo dois sabores!');\n      } else {\n        let array = [];\n        dataFlavor.forEach(p => {\n          if (p.id === id) {\n            array.push(newObj);\n          } else {\n            array.push(p);\n          }\n        });\n        setDataFlavor(array);\n      }\n    } else {\n      let array = [];\n      dataFlavor.forEach(p => {\n        if (p.id === id) {\n          array.push(newObj);\n        } else {\n          array.push({\n            id: p.id,\n            name: p.name,\n            description: p.description,\n            check: false\n          });\n        }\n      });\n      setDataFlavor(array);\n    }\n  };\n\n  const redirect = flag => {\n    if (flag) {\n      let flavors = dataFlavor.filter(i => i.check === true);\n      let array = [];\n\n      if (flavors.length !== 0) {\n        flavors.forEach(f => {\n          array.push(f.id);\n        });\n        localStorage.setItem(\"@masterpizza-delivery-app/key-flavor\", array);\n        window.location.href = \"/products-by-filter\";\n      } else {\n        alert.error('Escolha no minimo um sabor!');\n      }\n    } else {\n      window.location.href = \"/menu\";\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !loadingFlag ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        current: \"menu\",\n        clickCartMobile: () => setOpenCart(!openCart)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        title: 'Cardápio',\n        listFlavors: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto py-0 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-4 sm:px-0 py-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-lg h-96\",\n              children: [dataFlavor.length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"pb-4 text-lg w-full font-bold text-black sm:text-2xl\",\n                  children: \"Escolha at\\xE9 2 sabores\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 14\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid gap-4 sm:grid-cols-2 md:grid-cols-3\",\n                  children: dataFlavor.map(flavor => {\n                    return /*#__PURE__*/_jsxDEV(CardFlavor, {\n                      name: flavor.name,\n                      description: flavor.description,\n                      check: flavor.check,\n                      onChangeFlavor: () => checkFlavor(flavor.id)\n                    }, flavor.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 18\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 14\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 13\n              }, this) : /*#__PURE__*/_jsxDEV(MessageIsEmpty, {\n                title: \"Esta categoria n\\xE3o possui sabor ou sabor ativo!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: dataFlavor.length !== 0 ? () => redirect(true) : () => redirect(false),\n                  className: \"bg-green w-full text-white p-2 rounded-lg text-lg font-medium sm:p-3 w-14\",\n                  children: dataFlavor.length !== 0 ? \"Seguir\" : \"Voltar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ShoppingCartMobile, {\n        open: openCart,\n        close: () => setOpenCart(false),\n        onLoading: flag => setLoadingFlag(flag),\n        idClient: logged ? localStorage.getItem('@masterpizza-delivery-app/id_client') : null,\n        idCompany: logged ? ID_COMPANY : null,\n        logged: logged\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 6\n    }, this) : /*#__PURE__*/_jsxDEV(Loading, {\n      time: 5000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(ListFlavors, \"s81I9vFIiLUFAyMdENMREvT500Q=\", false, function () {\n  return [useAlert];\n});\n\n_c = ListFlavors;\nexport default ListFlavors;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListFlavors\");","map":{"version":3,"sources":["/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/pages/ListFlavors/index.js"],"names":["React","useState","useEffect","useParams","useAlert","API","isLoggedIn","getIdCompany","Navbar","Header","Footer","CardFlavor","ShoppingCartMobile","Loading","MessageIsEmpty","ListFlavors","localStorage","removeItem","dataFlavor","setDataFlavor","openCart","setOpenCart","loadingFlag","setLoadingFlag","logged","setLogged","alert","ID_COMPANY","idCategory","then","response","catch","error","get","array","data","forEach","flavor","push","id","name","name_flavor","description","check","checkFlavor","obj","filter","i","newObj","categoryByFlavor","getItem","is_check","length","p","redirect","flag","flavors","f","setItem","window","location","href","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport { useAlert } from 'react-alert';\nimport API from \"../../server/api.js\";\nimport { isLoggedIn } from \"../../server/auth.js\";\nimport { getIdCompany } from \"../../helpers.js\";\nimport Navbar from \"../../components/Navbar\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport CardFlavor from \"../../components/CardFlavor\";\nimport ShoppingCartMobile from \"../../components/ShoppingCart\";\nimport Loading from \"../../components/Loading\";\nimport MessageIsEmpty from \"../../components/MessageIsEmpty\";\nimport \"../../index.css\";\n\nconst ListFlavors = () => {\n\tlocalStorage.removeItem(\"@masterpizza-delivery-app/key-flavor\");\n\t\n\tconst [dataFlavor, setDataFlavor] = useState([]);\n\tconst [openCart, setOpenCart] = useState(false);\n\tconst [loadingFlag, setLoadingFlag] = useState(false);\n\tconst [logged, setLogged] = useState(false);\n\tconst alert = useAlert();\n\n\tuseEffect(() => {\n\t\tconst ID_COMPANY = getIdCompany();\n\t\tconst { idCategory } = useParams();\n\n\t\tsetLoadingFlag(true);\n\t\tisLoggedIn().then((response) => {\n\t\t\tsetLogged(response);\n\t\t}).catch((error) => {\n\t\t\tsetLogged(false);\n\t\t});\n\t\tAPI.get(\"flavor/byCategory/\" + idCategory + \"/\" + ID_COMPANY).then((response) => {\n\t\t\tlet array = [];\n\t\t\tresponse.data.forEach((flavor) => {\n\t\t\t\tarray.push({\n\t\t\t\t\tid: flavor.id,\n\t\t\t\t\tname: flavor.name_flavor,\n\t\t\t\t\tdescription: flavor.description,\n\t\t\t\t\tcheck: false\n\t\t\t\t})\n\t\t\t})\n\t\t\tsetDataFlavor(array);\n\t\t\tsetLoadingFlag(false);\n\t\t}).catch((error) => {\n\t\t\tsetLoadingFlag(false);\n\t\t\talert.error('Erro ao tentar listar sabores!');\n\t\t});\n\t}, []);\n\n\tconst checkFlavor = (id) => {\n\t\tlet obj = dataFlavor.filter((i) => i.id === id)[0];\n\t\tlet newObj = {\n\t\t\tid: id,\n\t\t\tname: obj.name,\n\t\t\tdescription: obj.description,\n\t\t\tcheck: !obj.check\n\t\t}\n\n\t\tlet categoryByFlavor = localStorage.getItem(\"@masterpizza-delivery-app/key-category\");\n\t\tif ((categoryByFlavor === \"PIZZA\") || (categoryByFlavor === \"PIZZAS\")) {\n\t\t\tlet is_check = !obj.check;\n\t\t\tif (is_check && (dataFlavor.filter((i) => i.check === true).length === 2)) {\n\t\t\t\talert.error('Só se pode escolher no máximo dois sabores!');\n\t\t\t} else {\n\t\t\t\tlet array = [];\n\t\t\t\tdataFlavor.forEach((p) => {\n\t\t\t\t\tif (p.id === id) {\n\t\t\t\t\t\tarray.push(newObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarray.push(p);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tsetDataFlavor(array);\n\t\t\t}\n\t\t} else {\n\t\t\tlet array = [];\n\t\t\tdataFlavor.forEach((p) => {\n\t\t\t\tif (p.id === id) {\n\t\t\t\t\tarray.push(newObj);\n\t\t\t\t} else {\n\t\t\t\t\tarray.push({\n\t\t\t\t\t\tid: p.id,\n\t\t\t\t\t\tname: p.name,\n\t\t\t\t\t\tdescription: p.description,\n\t\t\t\t\t\tcheck: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\tsetDataFlavor(array);\n\t\t}\n\t}\n\n\tconst redirect = (flag) => {\n\t\tif (flag) {\n\t\t\tlet flavors = dataFlavor.filter((i) => i.check === true);\n\t\t\tlet array = [];\n\t\t\tif (flavors.length !== 0) {\n\t\t\t\tflavors.forEach((f) => { array.push(f.id) });\n\t\t\t\tlocalStorage.setItem(\"@masterpizza-delivery-app/key-flavor\", array);\n\t\t\t\twindow.location.href = \"/products-by-filter\";\n\t\t\t} else {\n\t\t\t\talert.error('Escolha no minimo um sabor!');\n\t\t\t}\n\t\t} else {\n\t\t\twindow.location.href = \"/menu\";\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\t!loadingFlag ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Navbar current={\"menu\"} clickCartMobile={() => setOpenCart(!openCart)} />\n\t\t\t\t\t\t<Header title={'Cardápio'} listFlavors={true} />\n\t\t\t\t\t\t<main>\n\t\t\t\t\t\t\t<div className=\"max-w-7xl mx-auto py-0 sm:px-6 lg:px-8\">\n\t\t\t\t\t\t\t\t<div className=\"px-4 py-4 sm:px-0 py-6\">\n\t\t\t\t\t\t\t\t\t<div className=\"rounded-lg h-96\">\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tdataFlavor.length !== 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"pb-4 text-lg w-full font-bold text-black sm:text-2xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEscolha até 2 sabores\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2 md:grid-cols-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataFlavor.map((flavor) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardFlavor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={flavor.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={flavor.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription={flavor.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheck={flavor.check}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeFlavor={() => checkFlavor(flavor.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<MessageIsEmpty\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Esta categoria não possui sabor ou sabor ativo!\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t\t\t\t\t\t\t<button onClick={dataFlavor.length !== 0 ? () => redirect(true) : () => redirect(false)} className='bg-green w-full text-white p-2 rounded-lg text-lg font-medium sm:p-3 w-14'>\n\t\t\t\t\t\t\t\t\t\t\t\t{dataFlavor.length !== 0 ? \"Seguir\" : \"Voltar\"}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t<ShoppingCartMobile\n\t\t\t\t\t\t\topen={openCart}\n\t\t\t\t\t\t\tclose={() => setOpenCart(false)}\n\t\t\t\t\t\t\tonLoading={(flag) => setLoadingFlag(flag)}\n\t\t\t\t\t\t\tidClient={logged ? localStorage.getItem('@masterpizza-delivery-app/id_client') : null}\n\t\t\t\t\t\t\tidCompany={logged ? ID_COMPANY : null}\n\t\t\t\t\t\t\tlogged={logged}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<Loading time={5000} />\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n}\nexport default ListFlavors;\n"]},"metadata":{},"sourceType":"module"}
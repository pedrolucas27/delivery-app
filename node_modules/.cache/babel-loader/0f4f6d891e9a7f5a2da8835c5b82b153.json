{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/components/CardProfile/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { maskPhoneCell, getIdCompany } from \"../../helpers.js\";\nimport \"../../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CardProfile = props => {\n  _s();\n\n  const ID_COMPANY = getIdCompany();\n  const [formData, setFormData] = useState(\"\");\n  const [phoneCell, setPhoneCell] = useState(\"\");\n  const [enabledFields, setEnabledFields] = useState(false);\n  useEffect(() => {\n    setFormData({\n      name: props.user.name_client,\n      email: props.user.email_client\n    });\n    setPhoneCell(maskPhoneCell(props.user.phone_client));\n  }, []);\n\n  const onChangeForm = e => {\n    var data = {\n      name: formData.name,\n      email: formData.email\n    };\n    data[e.target.name] = e.target.value;\n    setFormData(data);\n  };\n\n  const submitData = e => {\n    const idClient = localStorage.getItem('@masterpizza-delivery-app/id_client');\n    props.updateDataClient({\n      id_client: idClient,\n      name_client: formData.name,\n      email_client: formData.email,\n      phone_client: phoneCell,\n      id_company: ID_COMPANY\n    });\n    e.preventDefault();\n  };\n\n  const enabledFieldsOn = e => {\n    setEnabledFields(!enabledFields);\n    e.preventDefault();\n  };\n\n  const logout = e => {\n    localStorage.clear();\n    window.location.href = \"/menu\";\n    e.preventDefault();\n  };\n\n  const resetFilds = e => {\n    setFormData({\n      name: props.user.name_client,\n      email: props.user.email_client\n    });\n    setPhoneCell(maskPhoneCell(props.user.phone_client));\n    setEnabledFields(!enabledFields);\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"block focus:border-2 focus:border-yellow w-full p-3 rounded mb-4\",\n        name: \"name\",\n        placeholder: \"Nome\",\n        value: formData.name,\n        onChange: e => onChangeForm(e),\n        disabled: !enabledFields\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"block focus:border-2 focus:border-yellow w-full p-3 rounded mb-4\",\n        name: \"phoneCell\",\n        placeholder: \"Telefone Celular\",\n        maxLength: \"15\",\n        value: phoneCell,\n        onChange: e => setPhoneCell(maskPhoneCell(e.target.value)),\n        disabled: !enabledFields\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"block focus:border-2 focus:border-yellow w-full p-3 rounded mb-4\",\n        name: \"email\",\n        placeholder: \"E-mail\",\n        value: formData.email,\n        onChange: e => onChangeForm(e),\n        disabled: !enabledFields\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-full text-center py-2 rounded bg-yellow text-white sm:py-3\",\n        onClick: !enabledFields ? e => enabledFieldsOn(e) : e => submitData(e),\n        children: !enabledFields ? \"Deseja atualizar dados ? Sim.\" : \"Atualizar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mt-3 w-full text-center bg-transparent border border-yellow text-yellow py-2 rounded sm:py-3\",\n        onClick: !enabledFields ? e => logout(e) : e => resetFilds(e),\n        children: !enabledFields ? \"Sair da conta\" : \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n};\n\n_s(CardProfile, \"DNRQ7xNB5PrWa6H9y2ld0crsN8U=\");\n\n_c = CardProfile;\nexport default CardProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardProfile\");","map":{"version":3,"sources":["/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/components/CardProfile/index.js"],"names":["React","useState","useEffect","maskPhoneCell","getIdCompany","CardProfile","props","ID_COMPANY","formData","setFormData","phoneCell","setPhoneCell","enabledFields","setEnabledFields","name","user","name_client","email","email_client","phone_client","onChangeForm","e","data","target","value","submitData","idClient","localStorage","getItem","updateDataClient","id_client","id_company","preventDefault","enabledFieldsOn","logout","clear","window","location","href","resetFilds"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from \"react\";\nimport { maskPhoneCell, getIdCompany } from \"../../helpers.js\";\nimport \"../../index.css\";\nconst CardProfile = (props) => {\n\tconst ID_COMPANY = getIdCompany();\n\tconst [formData, setFormData] = useState(\"\");\n\tconst [phoneCell, setPhoneCell] = useState(\"\");\n\tconst [enabledFields, setEnabledFields] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetFormData({\n\t\t\tname: props.user.name_client,\n\t\t\temail: props.user.email_client\n\t\t});\n\t\tsetPhoneCell(maskPhoneCell(props.user.phone_client));\n\t}, []);\n\n\tconst onChangeForm = (e) => {\n\t\tvar data = {\n\t\t\tname: formData.name,\n\t\t\temail: formData.email,\n\t\t}\n\t\tdata[e.target.name] = e.target.value;\n\t\tsetFormData(data);\n\t}\n\n\tconst submitData = (e) => {\n\t\tconst idClient = localStorage.getItem('@masterpizza-delivery-app/id_client');\n\t\tprops.updateDataClient({\n\t\t\tid_client: idClient,\n\t\t\tname_client: formData.name,\n\t\t\temail_client: formData.email,\n\t\t\tphone_client: phoneCell,\n\t\t\tid_company: ID_COMPANY\n\t\t});\n\t\te.preventDefault();\n\t}\n\n\tconst enabledFieldsOn = (e) => {\n\t\tsetEnabledFields(!enabledFields);\n\t\te.preventDefault();\n\t}\n\n\tconst logout = (e) => {\n\t\tlocalStorage.clear();\n\t\twindow.location.href = \"/menu\";\n\t\te.preventDefault();\n\t}\n\n\tconst resetFilds = (e) => {\n\t\tsetFormData({\n\t\t\tname: props.user.name_client,\n\t\t\temail: props.user.email_client\n\t\t});\n\t\tsetPhoneCell(maskPhoneCell(props.user.phone_client));\n\t\tsetEnabledFields(!enabledFields);\n\t\te.preventDefault();\n\t}\n\n\treturn(\n\t\t<div>\n      \t\t<form>\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"block focus:border-2 focus:border-yellow w-full p-3 rounded mb-4\"\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tplaceholder=\"Nome\"\n\t\t\t\t\tvalue={formData.name}\n\t\t\t\t\tonChange={(e) => onChangeForm(e)}\n\t\t\t\t\tdisabled={!enabledFields}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t    type=\"text\"\n\t\t\t\t\tclassName=\"block focus:border-2 focus:border-yellow w-full p-3 rounded mb-4\"\n\t\t\t\t    name=\"phoneCell\"\n\t                placeholder=\"Telefone Celular\"\n\t\t\t\t\tmaxLength=\"15\"\n\t\t\t        value={phoneCell}\n\t\t\t\t\tonChange={(e) => setPhoneCell(maskPhoneCell(e.target.value))}\n\t\t\t\t\tdisabled={!enabledFields}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\"\n\t\t\t        className=\"block focus:border-2 focus:border-yellow w-full p-3 rounded mb-4\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tplaceholder=\"E-mail\" \n\t\t\t\t\tvalue={formData.email}\n\t\t\t\t\tonChange={(e) => onChangeForm(e)}\n\t\t\t\t\tdisabled={!enabledFields}\n\t\t\t\t/>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"w-full text-center py-2 rounded bg-yellow text-white sm:py-3\"\n\t\t\t\t\tonClick={!enabledFields ? (e) => enabledFieldsOn(e):(e) => submitData(e)}\n\t\t\t\t>\n\t\t\t\t\t{!enabledFields ? \"Deseja atualizar dados ? Sim.\":\"Atualizar\"}\n\t\t\t\t</button>\n\t\t\t\t<button \n\t\t\t\t\tclassName=\"mt-3 w-full text-center bg-transparent border border-yellow text-yellow py-2 rounded sm:py-3\"\n\t\t\t\t\tonClick={!enabledFields ? (e) => logout(e):(e) => resetFilds(e)}\n\t\t\t\t>\n\t\t\t\t\t{!enabledFields ? \"Sair da conta\":\"Cancelar\"}\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t)\n}\nexport default CardProfile;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/pages/Login/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useAlert } from 'react-alert';\nimport API from \"../../server/api.js\";\nimport { getIdCompany } from \"../../helpers.js\";\nimport Navbar from \"../../components/Navbar\";\nimport Footer from \"../../components/Footer\";\nimport Loading from \"../../components/Loading\";\nimport \"../../index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const ID_COMPANY = getIdCompany();\n  const [loadingFlag, setLoadingFlag] = useState(false);\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const alert = useAlert();\n\n  const onAuth = async event => {\n    setLoadingFlag(true);\n    API.post(\"authentication/client\", {\n      user: formData.username,\n      password_client: formData.password,\n      id_company: ID_COMPANY\n    }).then(response => {\n      setLoadingFlag(false);\n\n      if (response.status === 200) {\n        localStorage.setItem('@masterpizza-delivery-app/token', response.data.token_client);\n        localStorage.setItem('@masterpizza-delivery-app/id_client', response.data.id_client);\n        alert.success(response.data.message);\n        setTimeout(() => {\n          window.location.href = \"/menu\";\n        }, 1000);\n      } else {\n        alert.error(response.data.message);\n      }\n    }).catch(error => {\n      setLoadingFlag(false);\n      alert.error(\"Erro ao tentar realizar login. Tente novamente!\");\n    });\n    event.preventDefault();\n  };\n\n  const onChangeForm = e => {\n    var data = {\n      username: formData.username,\n      password: formData.password\n    };\n    data[e.target.name] = e.target.value;\n    setFormData(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !loadingFlag ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-6 sm:px-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-lg h-96\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white px-6 py-4 shadow-lg rounded shadow-md text-black w-full h-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"mb-8 text-3xl text-center\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                    onSubmit: onAuth,\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"block border border-black-light w-full p-3 rounded mb-4\",\n                      name: \"username\",\n                      placeholder: \"E-mail ou Telefone Celular\",\n                      value: formData.username,\n                      onChange: e => onChangeForm(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 68,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      className: \"block border border-black-light w-full p-3 rounded mb-4\",\n                      name: \"password\",\n                      placeholder: \"Senha\",\n                      value: formData.password,\n                      onChange: e => onChangeForm(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 30\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"w-full text-center py-2 rounded bg-yellow text-white sm:py-3\",\n                      children: \"Entrar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 30\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 67,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-grey-dark mt-6\",\n                  children: [\"N\\xE3o possui conta ?\", /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"no-underline border-b border-blue text-blue-500\",\n                    href: \"/register\",\n                    children: \"Criar conta\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 26\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 22\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }, this) : /*#__PURE__*/_jsxDEV(Loading, {\n      time: 3000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Login, \"AxH6KdSQP593r31GMslqZEPwj9U=\", false, function () {\n  return [useAlert];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/pedro/Documentos/projects/master-pizza/delivery-app-v2/src/pages/Login/index.js"],"names":["React","useState","useAlert","API","getIdCompany","Navbar","Footer","Loading","Login","ID_COMPANY","loadingFlag","setLoadingFlag","formData","setFormData","username","password","alert","onAuth","event","post","user","password_client","id_company","then","response","status","localStorage","setItem","data","token_client","id_client","success","message","setTimeout","window","location","href","error","catch","preventDefault","onChangeForm","e","target","name","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAO,iBAAP;;;AACA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AACnB,QAAMC,UAAU,GAAGL,YAAY,EAA/B;AACA,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC;AACxCa,IAAAA,QAAQ,EAAE,EAD8B;AAExCC,IAAAA,QAAQ,EAAE;AAF8B,GAAD,CAAxC;AAIA,QAAMC,KAAK,GAAGd,QAAQ,EAAtB;;AAEA,QAAMe,MAAM,GAAG,MAAOC,KAAP,IAAiB;AAC/BP,IAAAA,cAAc,CAAC,IAAD,CAAd;AACAR,IAAAA,GAAG,CAACgB,IAAJ,CAAS,uBAAT,EACU;AACIC,MAAAA,IAAI,EAAER,QAAQ,CAACE,QADnB;AAEIO,MAAAA,eAAe,EAAET,QAAQ,CAACG,QAF9B;AAGIO,MAAAA,UAAU,EAAEb;AAHhB,KADV,EAMQc,IANR,CAMcC,QAAD,IAAc;AACpBb,MAAAA,cAAc,CAAC,KAAD,CAAd;;AACA,UAAGa,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AAC1BC,QAAAA,YAAY,CAACC,OAAb,CAAqB,iCAArB,EAAwDH,QAAQ,CAACI,IAAT,CAAcC,YAAtE;AACMH,QAAAA,YAAY,CAACC,OAAb,CAAqB,qCAArB,EAA4DH,QAAQ,CAACI,IAAT,CAAcE,SAA1E;AACAd,QAAAA,KAAK,CAACe,OAAN,CAAcP,QAAQ,CAACI,IAAT,CAAcI,OAA5B;AACAC,QAAAA,UAAU,CAAC,MAAM;AAChBC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;AACA,SAFS,EAEP,IAFO,CAAV;AAGN,OAPD,MAOK;AACJpB,QAAAA,KAAK,CAACqB,KAAN,CAAYb,QAAQ,CAACI,IAAT,CAAcI,OAA1B;AACA;AACD,KAlBP,EAkBSM,KAlBT,CAkBgBD,KAAD,IAAW;AACnB1B,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAK,MAAAA,KAAK,CAACqB,KAAN,CAAY,iDAAZ;AACA,KArBP;AAsBMnB,IAAAA,KAAK,CAACqB,cAAN;AACN,GAzBD;;AA2BA,QAAMC,YAAY,GAAIC,CAAD,IAAO;AAC3B,QAAIb,IAAI,GAAG;AACVd,MAAAA,QAAQ,EAAEF,QAAQ,CAACE,QADT;AAEVC,MAAAA,QAAQ,EAAEH,QAAQ,CAACG;AAFT,KAAX;AAIAa,IAAAA,IAAI,CAACa,CAAC,CAACC,MAAF,CAASC,IAAV,CAAJ,GAAsBF,CAAC,CAACC,MAAF,CAASE,KAA/B;AACA/B,IAAAA,WAAW,CAACe,IAAD,CAAX;AACA,GAPD;;AASA,sBACC;AAAA,cAEE,CAAClB,WAAD,gBACC;AAAA,8BACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADD,eAEC;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,wCAAf;AAAA,iCACC;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,qCACK;AAAK,gBAAA,SAAS,EAAC,kFAAf;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAC,yEAAf;AAAA,0CACI;AAAI,oBAAA,SAAS,EAAC,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAM,oBAAA,QAAQ,EAAEO,MAAhB;AAAA,4CACF;AACI,sBAAA,IAAI,EAAC,MADT;AAEI,sBAAA,SAAS,EAAC,yDAFd;AAGI,sBAAA,IAAI,EAAC,UAHT;AAII,sBAAA,WAAW,EAAC,4BAJhB;AAKO,sBAAA,KAAK,EAAEL,QAAQ,CAACE,QALvB;AAMO,sBAAA,QAAQ,EAAG2B,CAAD,IAAOD,YAAY,CAACC,CAAD;AANpC;AAAA;AAAA;AAAA;AAAA,4BADE,eASC;AACC,sBAAA,IAAI,EAAC,UADN;AAEC,sBAAA,SAAS,EAAC,yDAFX;AAGC,sBAAA,IAAI,EAAC,UAHN;AAIC,sBAAA,WAAW,EAAC,OAJb;AAKC,sBAAA,KAAK,EAAE7B,QAAQ,CAACG,QALjB;AAMC,sBAAA,QAAQ,EAAG0B,CAAD,IAAOD,YAAY,CAACC,CAAD;AAN9B;AAAA;AAAA;AAAA;AAAA,4BATD,eAiBC;AACI,sBAAA,IAAI,EAAC,QADT;AAEI,sBAAA,SAAS,EAAC,8DAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAjBD;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eA0BC;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAA,mEAEI;AAAG,oBAAA,SAAS,EAAC,iDAAb;AAA+D,oBAAA,IAAI,EAAC,WAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBA1BD;AAAA;AAAA;AAAA;AAAA;AAAA;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFD,eA2CC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cA3CD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,gBA+CC,QAAC,OAAD;AAAS,MAAA,IAAI,EAAE;AAAf;AAAA;AAAA;AAAA;AAAA;AAjDH;AAAA;AAAA;AAAA;AAAA,UADD;AAuDA,CApGD;;GAAMjC,K;UAOSN,Q;;;KAPTM,K;AAqGN,eAAeA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useAlert } from 'react-alert';\nimport API from \"../../server/api.js\"\nimport { getIdCompany } from \"../../helpers.js\";\nimport Navbar from \"../../components/Navbar\";\nimport Footer from \"../../components/Footer\";\nimport Loading from \"../../components/Loading\";\nimport \"../../index.css\";\nconst Login = () => {\n\tconst ID_COMPANY = getIdCompany();\n\tconst [loadingFlag, setLoadingFlag] = useState(false);\n\tconst [formData, setFormData] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t});\n\tconst alert = useAlert();\n\n\tconst onAuth = async (event) => {\n\t\tsetLoadingFlag(true);\n\t\tAPI.post(\"authentication/client\",\n            {\n                user: formData.username, \n                password_client: formData.password, \n                id_company: ID_COMPANY\n            }\n        ).then((response) => {\n        \tsetLoadingFlag(false);\n        \tif(response.status === 200){\n        \t\tlocalStorage.setItem('@masterpizza-delivery-app/token', response.data.token_client);\n                localStorage.setItem('@masterpizza-delivery-app/id_client', response.data.id_client);\n                alert.success(response.data.message);\n                setTimeout(() => {\n                \twindow.location.href = \"/menu\"\n                }, 1000);\n        \t}else{\n        \t\talert.error(response.data.message);\n        \t}\n        }).catch((error) => {\n        \tsetLoadingFlag(false);\n        \talert.error(\"Erro ao tentar realizar login. Tente novamente!\");\n        });\n        event.preventDefault();\n\t}\n\n\tconst onChangeForm = (e) => {\n\t\tvar data = {\n\t\t\tusername: formData.username,\n\t\t\tpassword: formData.password,\n\t\t}\n\t\tdata[e.target.name] = e.target.value;\n\t\tsetFormData(data);\n\t}\n\n\treturn(\n\t\t<div>\n\t\t\t{\n\t\t\t\t!loadingFlag ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t<main>\n\t\t\t\t\t\t    <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n\t\t\t\t\t\t\t    <div className=\"px-4 py-6 sm:px-0\">\n\t\t\t\t\t\t\t       \t<div className=\"rounded-lg h-96\">\n\t\t\t\t\t\t\t\t            <div className=\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\">\n\t\t\t\t\t\t\t\t                <div className=\"bg-white px-6 py-4 shadow-lg rounded shadow-md text-black w-full h-full\">\n\t\t\t\t\t\t\t\t                    <h1 className=\"mb-8 text-3xl text-center\">Login</h1>\n\t\t\t\t\t\t\t\t                    <form onSubmit={onAuth}>\n\t\t\t\t\t\t\t\t\t\t                <input \n\t\t\t\t\t\t\t\t\t\t                    type=\"text\"\n\t\t\t\t\t\t\t\t\t\t                    className=\"block border border-black-light w-full p-3 rounded mb-4\"\n\t\t\t\t\t\t\t\t\t\t                    name=\"username\"\n\t\t\t\t\t\t\t\t\t\t                    placeholder=\"E-mail ou Telefone Celular\"\n\t\t\t\t\t\t\t\t\t                        value={formData.username}\n\t\t\t\t\t\t\t\t\t                        onChange={(e) => onChangeForm(e)}\n\t\t\t\t\t\t\t\t\t                    />\n\t\t\t\t\t\t\t\t\t                    <input \n\t\t\t\t\t\t\t\t\t\t                    type=\"password\"\n\t\t\t\t\t\t\t\t\t\t               \t    className=\"block border border-black-light w-full p-3 rounded mb-4\"\n\t\t\t\t\t\t\t\t\t\t                    name=\"password\"\n\t\t\t\t\t\t\t\t\t\t                    placeholder=\"Senha\" \n\t\t\t\t\t\t\t\t\t\t                    value={formData.password}\n\t\t\t\t\t\t\t\t\t\t                    onChange={(e) => onChangeForm(e)}\n\t\t\t\t\t\t\t\t\t                    />\n\t\t\t\t\t\t\t\t\t                    <button\n\t\t\t\t\t\t\t\t\t                        type=\"submit\"\n\t\t\t\t\t\t\t\t\t                        className=\"w-full text-center py-2 rounded bg-yellow text-white sm:py-3\"\n\t\t\t\t\t\t\t\t\t                    >Entrar</button>\n\t\t\t\t\t\t\t\t                    </form>\n\t\t\t\t\t\t\t\t                </div>\n\t\t\t\t\t\t\t\t\t            <div className=\"text-grey-dark mt-6\">\n\t\t\t\t\t\t\t\t\t                Não possui conta ?\n\t\t\t\t\t\t\t\t\t                <a className=\"no-underline border-b border-blue text-blue-500\" href=\"/register\">\n\t\t\t\t\t\t\t\t\t                    Criar conta\n\t\t\t\t\t\t\t\t                    </a>\n\t\t\t\t\t\t\t\t                </div>\n\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t\t        \t</div>\n\t\t\t\t\t\t      \t</div>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t</div>\n\t\t\t\t):(\n\t\t\t\t\t<Loading time={3000}/>\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}